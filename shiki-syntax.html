<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8" data-next-head=""/><meta name="viewport" content="width=device-width" data-next-head=""/><title data-next-head="">Shiki Syntax Highlighting: More features for markdown | Jeffry.in</title><meta name="description" content="Comprehensive Shiki syntax highlighting implementation with custom themes, diff notation, line highlighting, focus modes, error annotations, interactive copy buttons, and optimized Sass architecture using a scalable variable system." data-next-head=""/><meta property="og:title" content="Shiki Syntax Highlighting: More features for markdown" data-next-head=""/><meta property="og:description" content="Comprehensive Shiki syntax highlighting implementation with custom themes, diff notation, line highlighting, focus modes, error annotations, interactive copy buttons, and optimized Sass architecture using a scalable variable system." data-next-head=""/><meta property="og:url" content="https://jeffry.in/shiki-syntax" data-next-head=""/><meta property="og:locale" content="en_US"/><link href="https://yowainwright.imgix.net/favicon.png" rel="icon"/><meta name="keywords" content="jeffry, wainwright, jeffry wainwright, code, programmer, artist, athlete, developer, engineer"/><meta name="theme-color" content="#007cf0"/><link rel="manifest" href="https://yowainwright.imgix.net/manifest.json"/><meta name="description" content="Jeffry.in is the daily changelog of Jeffry Wainwright, an engineer living in California."/><meta property="og:site_name" content="Jeffry.in"/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="600"/><link rel="icon" href="/favicon.ico"/><link rel="preload" href="./_next/static/css/2816ceafe095d0e8.css" as="style"/><link href="https://yowainwright.imgix.net/apple-icon-120x120.png" rel="apple-touch-icon" itemProp="logo"/><link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&amp;display=swap" rel="stylesheet"/><link rel="stylesheet" href="./_next/static/css/2816ceafe095d0e8.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" noModule="" src="./_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="./_next/static/chunks/webpack-4b829f2b4b580c7a.js" defer=""></script><script src="./_next/static/chunks/framework-b1e5f14688f9ffe6.js" defer=""></script><script src="./_next/static/chunks/main-fa83f37702f81b10.js" defer=""></script><script src="./_next/static/chunks/pages/_app-e804ef5d6318623d.js" defer=""></script><script src="./_next/static/chunks/pages/%5Bslug%5D-30c3df7985024efb.js" defer=""></script><script src="./_next/static/nA5pgTje0kHS8KDYEmMvl/_buildManifest.js" defer=""></script><script src="./_next/static/nA5pgTje0kHS8KDYEmMvl/_ssgManifest.js" defer=""></script></head><body><link rel="preload" as="image" href="https://yowainwright.imgix.net/portraits/me-smiling.jpg?w=150&amp;h=150&amp;fit=crop&amp;auto=format"/><div id="__next"><nav id="site-nav" class="site-nav" role="navigation" itemType="http://schema.org/SiteNavigationElement"><section class="site-nav__container"><a class="logo" href="/"><h3 class="logo__title">j</h3></a><div class="site-nav__links-wrapper"><ul class="site-nav__items"><li class="site-nav__item site-nav__item--resume"><a class="site-nav__link site-nav__link--resume" href="/resume">Resume</a></li><li class="site-nav__item site-nav__item--archive"><a class="site-nav__link site-nav__link--archive" href="/archive">Archive</a></li><li class="site-nav__item site-nav__item--about"><a class="site-nav__link site-nav__link--about" href="/about">About</a></li></ul><button class="site-nav__toggle" title="Toggle Darkmode"><svg viewBox="0 0 24 24"><path d="M9.37 5.51c-.18.64-.27 1.31-.27 1.99 0 4.08 3.32 7.4 7.4 7.4.68 0 1.35-.09 1.99-.27C17.45 17.19 14.93 19 12 19c-3.86 0-7-3.14-7-7 0-2.93 1.81-5.45 4.37-6.49zM12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1z"></path></svg></button></div></section></nav><article class="post__article"><header class="post__header"><h1>Shiki Syntax Highlighting: More features for markdown</h1><time class="post__time">August 31, 2025</time></header><section class="post__section"><div class="post__container"><div class="post__content"><p><a href="https://shiki.matsu.io/">Shiki</a>'s been used on this site for some time. ^^But it was missing several key features that Shiki provides out of the box, including language badges, custom transformers for enhanced metadata, and more granular control over code block styling.^^</p>
<h2>TL;DR</h2>
<p><code>https://jeffry.in</code> is updated with Shiki codeblocks, including:</p>
<ul>
<li><strong>Transformers for</strong> for titles, diffs, and tooltips</li>
<li><strong>Enhanced CSS</strong> with sticky line numbers and proper dark mode support</li>
<li><strong>Simplified Giscus integration</strong> using built-in themes, and</li>
<li><strong>Performance optimizations</strong> with <a href="https://nextjs.org/">Next.js</a> dynamic imports</li>
</ul>
<hr>
<h2>Syntax Highlighting Overview</h2>
<p>Here's a simple example. In code block below, you'll observe, a title, the languages, a copy button and Shiki syntax highlighting.</p>
<div class="shiki-wrapper"><div class="shiki-header"><div class="shiki-title">Basic JavaScript Example</div><div class="shiki-language">JAVASCRIPT</div><div class="copy-button-placeholder" data-code-id="code-block-1"></div></div><div class="copy-button-placeholder" data-code-id="code-block-1"></div><pre class="shiki shiki-themes theme-custom-light theme-custom-dark" style="background-color:#f9f9f9;--shiki-dark-bg:#031030;color:#000000;--shiki-dark:#b3d8e5" tabindex="0" id="code-block-1"><code><span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6">const</span><span style="color:#E2657E;--shiki-dark:#E2657E"> greeting</span><span style="color:#E194B5;--shiki-dark:#E194B5"> =</span><span style="color:#007CF0;--shiki-dark:#007CF0"> "Hello, Shiki!"</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6">const</span><span style="color:#E2657E;--shiki-dark:#E2657E"> numbers</span><span style="color:#E194B5;--shiki-dark:#E194B5"> =</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#FFD700;color:#FFD700">[</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">1</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">2</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">3</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">4</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">5</span><span style="--shiki-dark:#FFD700;color:#FFD700">]</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6">function</span><span style="color:#E2657E;--shiki-dark:#E2657E"> calculateSum</span><span style="--shiki-dark:#FFD700;color:#FFD700">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">arr</span><span style="--shiki-dark:#FFD700;color:#FFD700">)</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#FFD700;color:#FFD700">{</span></span>
<span class="line"><span style="color:#E194B5;--shiki-dark:#E194B5">  return</span><span style="color:#007CF0;--shiki-dark:#007CF0"> arr</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#E2657E;--shiki-dark:#E2657E">reduce</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">(</span><span style="--shiki-dark:#179FFF;color:#179FFF">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">sum</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#007CF0;--shiki-dark:#007CF0">num</span><span style="--shiki-dark:#179FFF;color:#179FFF">)</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="color:#569CD6;--shiki-dark:#569CD6">=</span><span style="color:#569CD6;--shiki-dark:#569CD6">></span><span style="color:#007CF0;--shiki-dark:#007CF0"> sum</span><span style="color:#E194B5;--shiki-dark:#E194B5"> +</span><span style="color:#007CF0;--shiki-dark:#007CF0"> num</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">0</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="--shiki-dark:#FFD700;color:#FFD700">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">console</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#E2657E;--shiki-dark:#E2657E">log</span><span style="--shiki-dark:#FFD700;color:#FFD700">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">greeting</span><span style="--shiki-dark:#FFD700;color:#FFD700">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">console</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#E2657E;--shiki-dark:#E2657E">log</span><span style="--shiki-dark:#FFD700;color:#FFD700">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">`Sum: </span><span style="color:#999999;--shiki-dark:#999999">${</span><span style="color:#E2657E;--shiki-dark:#E2657E">calculateSum</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">numbers</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">)</span><span style="color:#999999;--shiki-dark:#999999">}</span><span style="color:#007CF0;--shiki-dark:#007CF0">`</span><span style="--shiki-dark:#FFD700;color:#FFD700">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span></code></pre></div>
<h2>Language Support</h2>
<p>Shiki supports multiple programming languages out of the box. However, I wanted to add the language as a badge which was harder than expected.
I found I could view that information from Shiki but I wasn't able to hoist it to code block headers as easily as I would have liked.
Shiki's transformer architecture transformers and executes at different stages of the rendering pipeline, and language metadata isn't always accessible in the pre-processing phase where it can be injected into header elements. <code>code()</code> and <code>preprocess()</code> hooks run at different times, and getting data to flow between them requires a little state management through the options object.</p>
<h3>TypeScript with Type Annotations</h3>
<div class="shiki-wrapper"><div class="shiki-header"><div class="shiki-title">TypeScript Example</div><div class="shiki-language">TYPESCRIPT</div><div class="copy-button-placeholder" data-code-id="code-block-1"></div></div><div class="copy-button-placeholder" data-code-id="code-block-1"></div><pre class="shiki shiki-themes theme-custom-light theme-custom-dark" style="background-color:#f9f9f9;--shiki-dark-bg:#031030;color:#000000;--shiki-dark:#b3d8e5" tabindex="0" id="code-block-1"><code><span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6">interface</span><span style="color:#E2657E;--shiki-dark:#E2657E"> User</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#FFD700;color:#FFD700">{</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">  id</span><span style="color:#E194B5;--shiki-dark:#E194B5">:</span><span style="color:#E2657E;--shiki-dark:#E2657E"> number</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">  name</span><span style="color:#E194B5;--shiki-dark:#E194B5">:</span><span style="color:#E2657E;--shiki-dark:#E2657E"> string</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">  email</span><span style="color:#E194B5;--shiki-dark:#E194B5">:</span><span style="color:#E2657E;--shiki-dark:#E2657E"> string</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">  isActive</span><span style="color:#E194B5;--shiki-dark:#E194B5">:</span><span style="color:#E2657E;--shiki-dark:#E2657E"> boolean</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="--shiki-dark:#FFD700;color:#FFD700">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6">class</span><span style="color:#E2657E;--shiki-dark:#E2657E"> UserService</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#FFD700;color:#FFD700">{</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6">  private</span><span style="color:#007CF0;--shiki-dark:#007CF0"> users</span><span style="color:#E194B5;--shiki-dark:#E194B5">:</span><span style="color:#E2657E;--shiki-dark:#E2657E"> User</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">[</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">]</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="color:#E194B5;--shiki-dark:#E194B5">=</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">[</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">]</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E2657E;--shiki-dark:#E2657E">  addUser</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">user</span><span style="color:#E194B5;--shiki-dark:#E194B5">:</span><span style="color:#E2657E;--shiki-dark:#E2657E"> User</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">)</span><span style="color:#E194B5;--shiki-dark:#E194B5">:</span><span style="color:#E2657E;--shiki-dark:#E2657E"> void</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">{</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">    this</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#007CF0;--shiki-dark:#007CF0">users</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#E2657E;--shiki-dark:#E2657E">push</span><span style="--shiki-dark:#179FFF;color:#179FFF">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">user</span><span style="--shiki-dark:#179FFF;color:#179FFF">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">  </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E2657E;--shiki-dark:#E2657E">  getActiveUsers</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">(</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">)</span><span style="color:#E194B5;--shiki-dark:#E194B5">:</span><span style="color:#E2657E;--shiki-dark:#E2657E"> User</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">[</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">]</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">{</span></span>
<span class="line"><span style="color:#E194B5;--shiki-dark:#E194B5">    return</span><span style="color:#007CF0;--shiki-dark:#007CF0"> this</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#007CF0;--shiki-dark:#007CF0">users</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#E2657E;--shiki-dark:#E2657E">filter</span><span style="--shiki-dark:#179FFF;color:#179FFF">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">user</span><span style="color:#569CD6;--shiki-dark:#569CD6"> =</span><span style="color:#569CD6;--shiki-dark:#569CD6">></span><span style="color:#007CF0;--shiki-dark:#007CF0"> user</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#007CF0;--shiki-dark:#007CF0">isActive</span><span style="--shiki-dark:#179FFF;color:#179FFF">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">  </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">}</span></span>
<span class="line"><span style="--shiki-dark:#FFD700;color:#FFD700">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6">const</span><span style="color:#E2657E;--shiki-dark:#E2657E"> service</span><span style="color:#E194B5;--shiki-dark:#E194B5"> =</span><span style="color:#E194B5;--shiki-dark:#E194B5"> new</span><span style="color:#E2657E;--shiki-dark:#E2657E"> UserService</span><span style="--shiki-dark:#FFD700;color:#FFD700">(</span><span style="--shiki-dark:#FFD700;color:#FFD700">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span></code></pre></div>
<p>I was able to hack my way to the functionality I wanted. The key was creating a custom transformer that stores language information in the root node's data attributes during the <code>root()</code> phase, then injecting the badge element during the <code>pre()</code> phase when the parent container is available. This approach ensures the language badge appears in the header alongside titles and other metadata.^^</p>
<h3>With Python Example</h3>
<div class="shiki-wrapper"><div class="shiki-header"><div class="shiki-title">Python Data Processing</div><div class="shiki-language">PYTHON</div><div class="copy-button-placeholder" data-code-id="code-block-1"></div></div><div class="copy-button-placeholder" data-code-id="code-block-1"></div><pre class="shiki shiki-themes theme-custom-light theme-custom-dark" style="background-color:#f9f9f9;--shiki-dark-bg:#031030;color:#000000;--shiki-dark:#b3d8e5" tabindex="0" id="code-block-1"><code><span class="line"><span style="color:#E194B5;--shiki-dark:#E194B5">import</span><span style="color:#000000;--shiki-dark:#B3D8E5"> pandas </span><span style="color:#E194B5;--shiki-dark:#E194B5">as</span><span style="color:#000000;--shiki-dark:#B3D8E5"> pd</span></span>
<span class="line"><span style="color:#E194B5;--shiki-dark:#E194B5">import</span><span style="color:#000000;--shiki-dark:#B3D8E5"> numpy </span><span style="color:#E194B5;--shiki-dark:#E194B5">as</span><span style="color:#000000;--shiki-dark:#B3D8E5"> np</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6">def</span><span style="color:#E2657E;--shiki-dark:#E2657E"> process_data</span><span style="--shiki-dark:#FFD700;color:#FFD700">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">data</span><span style="--shiki-dark:#FFD700;color:#FFD700">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">:</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">    """Process and analyze data using pandas."""</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">    df </span><span style="color:#E194B5;--shiki-dark:#E194B5">=</span><span style="color:#000000;--shiki-dark:#B3D8E5"> pd.DataFrame</span><span style="--shiki-dark:#FFD700;color:#FFD700">(</span><span style="color:#000000;--shiki-dark:#B3D8E5">data</span><span style="--shiki-dark:#FFD700;color:#FFD700">)</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">    </span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955">    # Calculate statistics</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">    mean_value </span><span style="color:#E194B5;--shiki-dark:#E194B5">=</span><span style="color:#000000;--shiki-dark:#B3D8E5"> df</span><span style="--shiki-dark:#FFD700;color:#FFD700">[</span><span style="color:#007CF0;--shiki-dark:#007CF0">'value'</span><span style="--shiki-dark:#FFD700;color:#FFD700">]</span><span style="color:#000000;--shiki-dark:#B3D8E5">.mean</span><span style="--shiki-dark:#FFD700;color:#FFD700">(</span><span style="--shiki-dark:#FFD700;color:#FFD700">)</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">    std_dev </span><span style="color:#E194B5;--shiki-dark:#E194B5">=</span><span style="color:#000000;--shiki-dark:#B3D8E5"> df</span><span style="--shiki-dark:#FFD700;color:#FFD700">[</span><span style="color:#007CF0;--shiki-dark:#007CF0">'value'</span><span style="--shiki-dark:#FFD700;color:#FFD700">]</span><span style="color:#000000;--shiki-dark:#B3D8E5">.std</span><span style="--shiki-dark:#FFD700;color:#FFD700">(</span><span style="--shiki-dark:#FFD700;color:#FFD700">)</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">    </span></span>
<span class="line"><span style="color:#E194B5;--shiki-dark:#E194B5">    return</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#FFD700;color:#FFD700">{</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">        'mean'</span><span style="color:#000000;--shiki-dark:#B3D8E5">: mean_value,</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">        'std'</span><span style="color:#000000;--shiki-dark:#B3D8E5">: std_dev,</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">        'count'</span><span style="color:#000000;--shiki-dark:#B3D8E5">: </span><span style="color:#E2657E;--shiki-dark:#E2657E">len</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">(</span><span style="color:#000000;--shiki-dark:#B3D8E5">df</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">)</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">    </span><span style="--shiki-dark:#FFD700;color:#FFD700">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955"># Sample data</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">data </span><span style="color:#E194B5;--shiki-dark:#E194B5">=</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#FFD700;color:#FFD700">{</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">    'id'</span><span style="color:#000000;--shiki-dark:#B3D8E5">: </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">[</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">1</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">2</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">3</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">4</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">5</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">]</span><span style="color:#000000;--shiki-dark:#B3D8E5">,</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">    'value'</span><span style="color:#000000;--shiki-dark:#B3D8E5">: </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">[</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">10</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">20</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">15</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">25</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">30</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">]</span></span>
<span class="line"><span style="--shiki-dark:#FFD700;color:#FFD700">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">result </span><span style="color:#E194B5;--shiki-dark:#E194B5">=</span><span style="color:#000000;--shiki-dark:#B3D8E5"> process_data</span><span style="--shiki-dark:#FFD700;color:#FFD700">(</span><span style="color:#000000;--shiki-dark:#B3D8E5">data</span><span style="--shiki-dark:#FFD700;color:#FFD700">)</span></span>
<span class="line"><span style="color:#E2657E;--shiki-dark:#E2657E">print</span><span style="--shiki-dark:#FFD700;color:#FFD700">(</span><span style="color:#569CD6;--shiki-dark:#569CD6">f</span><span style="color:#007CF0;--shiki-dark:#007CF0">"Analysis complete: </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">{</span><span style="color:#000000;--shiki-dark:#B3D8E5">result</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">}</span><span style="color:#007CF0;--shiki-dark:#007CF0">"</span><span style="--shiki-dark:#FFD700;color:#FFD700">)</span></span></code></pre></div>
<h3>With CSS example</h3>
<div class="shiki-wrapper"><div class="shiki-header"><div class="shiki-title">Modern CSS Styling</div><div class="shiki-language">CSS</div><div class="copy-button-placeholder" data-code-id="code-block-1"></div></div><div class="copy-button-placeholder" data-code-id="code-block-1"></div><pre class="shiki shiki-themes theme-custom-light theme-custom-dark" style="background-color:#f9f9f9;--shiki-dark-bg:#031030;color:#000000;--shiki-dark:#b3d8e5" tabindex="0" id="code-block-1"><code><span class="line"><span style="color:#D7BA7D;--shiki-dark:#D7BA7D">:root</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#FFD700;color:#FFD700">{</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">  --primary-color</span><span style="color:#000000;--shiki-dark:#B3D8E5">: </span><span style="color:#007CF0;--shiki-dark:#007CF0">#3b82f6</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">  --secondary-color</span><span style="color:#000000;--shiki-dark:#B3D8E5">: </span><span style="color:#007CF0;--shiki-dark:#007CF0">#8b5cf6</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">  --spacing-unit</span><span style="color:#000000;--shiki-dark:#B3D8E5">: </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">1</span><span style="color:#E2657E;--shiki-dark:#E2657E">rem</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">  --border-radius</span><span style="color:#000000;--shiki-dark:#B3D8E5">: </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">0.5</span><span style="color:#E2657E;--shiki-dark:#E2657E">rem</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="--shiki-dark:#FFD700;color:#FFD700">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D7BA7D;--shiki-dark:#D7BA7D">.card</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#FFD700;color:#FFD700">{</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">  background</span><span style="color:#000000;--shiki-dark:#B3D8E5">: </span><span style="color:#E2657E;--shiki-dark:#E2657E">linear-gradient</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">(</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">135</span><span style="color:#E2657E;--shiki-dark:#E2657E">deg</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#E2657E;--shiki-dark:#E2657E">var</span><span style="--shiki-dark:#179FFF;color:#179FFF">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">--primary-color</span><span style="--shiki-dark:#179FFF;color:#179FFF">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#E2657E;--shiki-dark:#E2657E">var</span><span style="--shiki-dark:#179FFF;color:#179FFF">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">--secondary-color</span><span style="--shiki-dark:#179FFF;color:#179FFF">)</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">  padding</span><span style="color:#000000;--shiki-dark:#B3D8E5">: </span><span style="color:#E2657E;--shiki-dark:#E2657E">calc</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">(</span><span style="color:#E2657E;--shiki-dark:#E2657E">var</span><span style="--shiki-dark:#179FFF;color:#179FFF">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">--spacing-unit</span><span style="--shiki-dark:#179FFF;color:#179FFF">)</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="color:#E194B5;--shiki-dark:#E194B5">*</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8"> 2</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">  border-radius</span><span style="color:#000000;--shiki-dark:#B3D8E5">: </span><span style="color:#E2657E;--shiki-dark:#E2657E">var</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">--border-radius</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">  box-shadow</span><span style="color:#000000;--shiki-dark:#B3D8E5">: </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">0</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8"> 10</span><span style="color:#E2657E;--shiki-dark:#E2657E">px</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8"> 30</span><span style="color:#E2657E;--shiki-dark:#E2657E">px</span><span style="color:#E2657E;--shiki-dark:#E2657E"> rgba</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">(</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">0</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">0</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">0</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">0.1</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">  transition</span><span style="color:#000000;--shiki-dark:#B3D8E5">: transform </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">0.3</span><span style="color:#E2657E;--shiki-dark:#E2657E">s</span><span style="color:#007CF0;--shiki-dark:#007CF0"> ease</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="--shiki-dark:#FFD700;color:#FFD700">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D7BA7D;--shiki-dark:#D7BA7D">.card:hover</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#FFD700;color:#FFD700">{</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">  transform</span><span style="color:#000000;--shiki-dark:#B3D8E5">: </span><span style="color:#E2657E;--shiki-dark:#E2657E">translateY</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">(</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">-5</span><span style="color:#E2657E;--shiki-dark:#E2657E">px</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">  box-shadow</span><span style="color:#000000;--shiki-dark:#B3D8E5">: </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">0</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8"> 15</span><span style="color:#E2657E;--shiki-dark:#E2657E">px</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8"> 40</span><span style="color:#E2657E;--shiki-dark:#E2657E">px</span><span style="color:#E2657E;--shiki-dark:#E2657E"> rgba</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">(</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">0</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">0</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">0</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">0.15</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="--shiki-dark:#FFD700;color:#FFD700">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E194B5;--shiki-dark:#E194B5">@container</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#FFD700;color:#FFD700">(</span><span style="color:#000000;--shiki-dark:#B3D8E5">min-width: 768px</span><span style="--shiki-dark:#FFD700;color:#FFD700">)</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#FFD700;color:#FFD700">{</span></span>
<span class="line"><span style="color:#D7BA7D;--shiki-dark:#D7BA7D">  .card</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">{</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">    grid-template-columns</span><span style="color:#000000;--shiki-dark:#B3D8E5">: </span><span style="color:#E2657E;--shiki-dark:#E2657E">repeat</span><span style="--shiki-dark:#179FFF;color:#179FFF">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">auto-fit</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#E2657E;--shiki-dark:#E2657E">minmax</span><span style="--shiki-dark:#FFD700;color:#FFD700">(</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">250</span><span style="color:#E2657E;--shiki-dark:#E2657E">px</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">1</span><span style="color:#E2657E;--shiki-dark:#E2657E">fr</span><span style="--shiki-dark:#FFD700;color:#FFD700">)</span><span style="--shiki-dark:#179FFF;color:#179FFF">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">  </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">}</span></span>
<span class="line"><span style="--shiki-dark:#FFD700;color:#FFD700">}</span></span></code></pre></div>
<h3>Diff Notation</h3>
<p>Show additions and deletions in code:</p>
<div class="shiki-wrapper"><div class="shiki-header"><div class="shiki-title">Code Changes</div><div class="shiki-language">DIFF</div><div class="copy-button-placeholder" data-code-id="code-block-1"></div></div><div class="copy-button-placeholder" data-code-id="code-block-1"></div><pre class="shiki shiki-themes theme-custom-light theme-custom-dark" style="background-color:#f9f9f9;--shiki-dark-bg:#031030;color:#000000;--shiki-dark:#b3d8e5" tabindex="0" id="code-block-1"><code><span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">function calculateTotal</span><span style="--shiki-dark:#FFD700;color:#FFD700">(</span><span style="color:#000000;--shiki-dark:#B3D8E5">items</span><span style="--shiki-dark:#FFD700;color:#FFD700">)</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#FFD700;color:#FFD700">{</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">  let total = 0;</span></span>
<span class="line diff remove"><span style="color:#E2657E;--shiki-dark:#E2657E">- for </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">(</span><span style="color:#E2657E;--shiki-dark:#E2657E">let i = 0; i </span><span style="color:#E2657E;--shiki-dark:#E2657E">&#x3C;</span><span style="color:#E2657E;--shiki-dark:#E2657E"> items.length; i++</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">)</span><span style="color:#E2657E;--shiki-dark:#E2657E"> </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">{</span></span>
<span class="line diff remove"><span style="color:#E2657E;--shiki-dark:#E2657E">-   total += items</span><span style="--shiki-dark:#179FFF;color:#179FFF">[</span><span style="color:#E2657E;--shiki-dark:#E2657E">i</span><span style="--shiki-dark:#179FFF;color:#179FFF">]</span><span style="color:#E2657E;--shiki-dark:#E2657E">.price;</span></span>
<span class="line diff remove"><span style="color:#E2657E;--shiki-dark:#E2657E">- </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">}</span></span>
<span class="line diff add"><span style="color:#007CF0;--shiki-dark:#007CF0">+ total = items.reduce</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">(</span><span style="--shiki-dark:#179FFF;color:#179FFF">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">sum, item</span><span style="--shiki-dark:#179FFF;color:#179FFF">)</span><span style="color:#007CF0;--shiki-dark:#007CF0"> =</span><span style="color:#007CF0;--shiki-dark:#007CF0">></span><span style="color:#007CF0;--shiki-dark:#007CF0"> sum + item.price, 0</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">)</span><span style="color:#007CF0;--shiki-dark:#007CF0">;</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">  return total;</span></span>
<span class="line"><span style="--shiki-dark:#FFD700;color:#FFD700">}</span></span></code></pre></div>
<h3>Line Highlighting</h3>
<p>Highlight specific lines to draw attention:</p>
<div class="shiki-wrapper"><div class="shiki-header"><div class="shiki-title">Important Lines</div><div class="shiki-language">JAVASCRIPT</div><div class="copy-button-placeholder" data-code-id="code-block-1"></div></div><div class="copy-button-placeholder" data-code-id="code-block-1"></div><pre class="shiki shiki-themes theme-custom-light theme-custom-dark" style="background-color:#f9f9f9;--shiki-dark-bg:#031030;color:#000000;--shiki-dark:#b3d8e5" tabindex="0" id="code-block-1"><code><span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6">const</span><span style="color:#E2657E;--shiki-dark:#E2657E"> config</span><span style="color:#E194B5;--shiki-dark:#E194B5"> =</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#FFD700;color:#FFD700">{</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">  apiUrl:</span><span style="color:#007CF0;--shiki-dark:#007CF0"> 'https://api.example.com'</span><span style="color:#000000;--shiki-dark:#B3D8E5">,</span></span>
<span class="line highlighted"><span style="color:#007CF0;--shiki-dark:#007CF0">  timeout:</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8"> 5000</span><span style="color:#000000;--shiki-dark:#B3D8E5">,           </span><span style="color:#6A9955;--shiki-dark:#6A9955">// These lines are highlighted</span></span>
<span class="line highlighted"><span style="color:#007CF0;--shiki-dark:#007CF0">  retryAttempts:</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8"> 3</span><span style="color:#000000;--shiki-dark:#B3D8E5">,        </span><span style="color:#6A9955;--shiki-dark:#6A9955">// to show important config</span></span>
<span class="line highlighted"><span style="color:#007CF0;--shiki-dark:#007CF0">  enableLogging:</span><span style="color:#E2657E;--shiki-dark:#E2657E"> true</span><span style="color:#000000;--shiki-dark:#B3D8E5">,     </span><span style="color:#6A9955;--shiki-dark:#6A9955">// values</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">  </span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">  headers:</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">{</span></span>
<span class="line highlighted"><span style="color:#007CF0;--shiki-dark:#007CF0">    'Content-Type'</span><span style="color:#007CF0;--shiki-dark:#007CF0">:</span><span style="color:#007CF0;--shiki-dark:#007CF0"> 'application/json'</span><span style="color:#000000;--shiki-dark:#B3D8E5">,  </span><span style="color:#6A9955;--shiki-dark:#6A9955">// This line too!</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">  </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">}</span></span>
<span class="line"><span style="--shiki-dark:#FFD700;color:#FFD700">}</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span></code></pre></div>
<h3>Word Highlighting</h3>
<p>Highlight specific words or patterns:</p>
<div class="shiki-wrapper"><div class="shiki-header"><div class="shiki-title">Security Considerations</div><div class="shiki-language">JAVASCRIPT</div><div class="copy-button-placeholder" data-code-id="code-block-1"></div></div><div class="copy-button-placeholder" data-code-id="code-block-1"></div><pre class="shiki shiki-themes theme-custom-light theme-custom-dark" style="background-color:#f9f9f9;--shiki-dark-bg:#031030;color:#000000;--shiki-dark:#b3d8e5" tabindex="0" id="code-block-1"><code><span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6">const</span><span style="color:#E2657E;--shiki-dark:#E2657E"> </span><span style="color:#E2657E;--shiki-dark:#E2657E" class="highlighted-word">password</span><span style="color:#E194B5;--shiki-dark:#E194B5"> =</span><span style="color:#007CF0;--shiki-dark:#007CF0"> "secret123"</span><span style="color:#000000;--shiki-dark:#B3D8E5">; </span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6">const</span><span style="color:#E2657E;--shiki-dark:#E2657E"> apiKey</span><span style="color:#E194B5;--shiki-dark:#E194B5"> =</span><span style="color:#007CF0;--shiki-dark:#007CF0"> process</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#007CF0;--shiki-dark:#007CF0">env</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#E2657E;--shiki-dark:#E2657E" class="highlighted-word">API_KEY</span><span style="color:#000000;--shiki-dark:#B3D8E5">; </span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6">function</span><span style="color:#E2657E;--shiki-dark:#E2657E"> </span><span style="color:#E2657E;--shiki-dark:#E2657E" class="highlighted-word">authenticate</span><span style="--shiki-dark:#FFD700;color:#FFD700">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">user</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#007CF0;--shiki-dark:#007CF0">pass</span><span style="--shiki-dark:#FFD700;color:#FFD700">)</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#FFD700;color:#FFD700">{</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955">  // Never store </span><span style="color:#6A9955;--shiki-dark:#6A9955" class="highlighted-word">password</span><span style="color:#6A9955;--shiki-dark:#6A9955">s in plain text</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6">  const</span><span style="color:#E2657E;--shiki-dark:#E2657E"> hashedPassword</span><span style="color:#E194B5;--shiki-dark:#E194B5"> =</span><span style="color:#E2657E;--shiki-dark:#E2657E"> hash</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">pass</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#E194B5;--shiki-dark:#E194B5">  return</span><span style="color:#E2657E;--shiki-dark:#E2657E"> validateCredentials</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">user</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#007CF0;--shiki-dark:#007CF0">hashedPassword</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="--shiki-dark:#FFD700;color:#FFD700">}</span></span></code></pre></div>
<h3>Focus Lines</h3>
<p>Focus on specific sections while dimming others:</p>
<div class="shiki-wrapper"><div class="shiki-header"><div class="shiki-title">Focus Example</div><div class="shiki-language">JAVASCRIPT</div><div class="copy-button-placeholder" data-code-id="code-block-1"></div></div><div class="copy-button-placeholder" data-code-id="code-block-1"></div><pre class="shiki shiki-themes theme-custom-light theme-custom-dark has-focused" style="background-color:#f9f9f9;--shiki-dark-bg:#031030;color:#000000;--shiki-dark:#b3d8e5" tabindex="0" id="code-block-1"><code>
<span class="line focused"><span style="color:#569CD6;--shiki-dark:#569CD6">function</span><span style="color:#E2657E;--shiki-dark:#E2657E"> processUserData</span><span style="--shiki-dark:#FFD700;color:#FFD700">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">userData</span><span style="--shiki-dark:#FFD700;color:#FFD700">)</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#FFD700;color:#FFD700">{</span></span>
<span class="line focused"><span style="color:#6A9955;--shiki-dark:#6A9955">  // Validation</span></span>
<span class="line focused"><span style="color:#E194B5;--shiki-dark:#E194B5">  if</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">(</span><span style="color:#E194B5;--shiki-dark:#E194B5">!</span><span style="color:#007CF0;--shiki-dark:#007CF0">userData</span><span style="color:#E194B5;--shiki-dark:#E194B5"> ||</span><span style="color:#E194B5;--shiki-dark:#E194B5"> !</span><span style="color:#007CF0;--shiki-dark:#007CF0">userData</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#007CF0;--shiki-dark:#007CF0">email</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">)</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">{</span></span>
<span class="line focused"><span style="color:#E194B5;--shiki-dark:#E194B5">    throw</span><span style="color:#E194B5;--shiki-dark:#E194B5"> new</span><span style="color:#E2657E;--shiki-dark:#E2657E"> Error</span><span style="--shiki-dark:#179FFF;color:#179FFF">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">'Invalid user data'</span><span style="--shiki-dark:#179FFF;color:#179FFF">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">  </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">}</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">  </span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955">  // This is the important part to focus on</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6">  const</span><span style="color:#E2657E;--shiki-dark:#E2657E"> normalizedEmail</span><span style="color:#E194B5;--shiki-dark:#E194B5"> =</span><span style="color:#007CF0;--shiki-dark:#007CF0"> userData</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#007CF0;--shiki-dark:#007CF0">email</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#E2657E;--shiki-dark:#E2657E">toLowerCase</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">(</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#E2657E;--shiki-dark:#E2657E">trim</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">(</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6">  const</span><span style="color:#E2657E;--shiki-dark:#E2657E"> username</span><span style="color:#E194B5;--shiki-dark:#E194B5"> =</span><span style="color:#007CF0;--shiki-dark:#007CF0"> normalizedEmail</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#E2657E;--shiki-dark:#E2657E">split</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">'@'</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">)</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">[</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">0</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">]</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">  </span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955">  // Save to database</span></span>
<span class="line"><span style="color:#E194B5;--shiki-dark:#E194B5">  return</span><span style="color:#E2657E;--shiki-dark:#E2657E"> saveUser</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">(</span><span style="--shiki-dark:#179FFF;color:#179FFF">{</span></span>
<span class="line"><span style="color:#E194B5;--shiki-dark:#E194B5">    ...</span><span style="color:#007CF0;--shiki-dark:#007CF0">userData</span><span style="color:#000000;--shiki-dark:#B3D8E5">,</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">    email:</span><span style="color:#007CF0;--shiki-dark:#007CF0"> normalizedEmail</span><span style="color:#000000;--shiki-dark:#B3D8E5">,</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">    username</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">  </span><span style="--shiki-dark:#179FFF;color:#179FFF">}</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="--shiki-dark:#FFD700;color:#FFD700">}</span></span></code></pre></div>
<h3>Error Level Annotations</h3>
<p>Show warnings and errors in code:</p>
<div class="shiki-wrapper"><div class="shiki-header"><div class="shiki-title">Error Handling</div><div class="shiki-language">JAVASCRIPT</div><div class="copy-button-placeholder" data-code-id="code-block-1"></div></div><div class="copy-button-placeholder" data-code-id="code-block-1"></div><pre class="shiki shiki-themes theme-custom-light theme-custom-dark has-highlighted" style="background-color:#f9f9f9;--shiki-dark-bg:#031030;color:#000000;--shiki-dark:#b3d8e5" tabindex="0" id="code-block-1"><code><span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6">function</span><span style="color:#E2657E;--shiki-dark:#E2657E"> divideNumbers</span><span style="--shiki-dark:#FFD700;color:#FFD700">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">a</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#007CF0;--shiki-dark:#007CF0">b</span><span style="--shiki-dark:#FFD700;color:#FFD700">)</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#FFD700;color:#FFD700">{</span></span>
<span class="line highlighted error"><span style="color:#E194B5;--shiki-dark:#E194B5">  if</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">b</span><span style="color:#E194B5;--shiki-dark:#E194B5"> ===</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8"> 0</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">)</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">{</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span></span>
<span class="line highlighted error"><span style="color:#E194B5;--shiki-dark:#E194B5">    throw</span><span style="color:#E194B5;--shiki-dark:#E194B5"> new</span><span style="color:#E2657E;--shiki-dark:#E2657E"> Error</span><span style="--shiki-dark:#179FFF;color:#179FFF">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">'Division by zero!'</span><span style="--shiki-dark:#179FFF;color:#179FFF">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">; </span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">  </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">}</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">  </span></span>
<span class="line highlighted warning"><span style="color:#E194B5;--shiki-dark:#E194B5">  if</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">(</span><span style="color:#E194B5;--shiki-dark:#E194B5">typeof</span><span style="color:#007CF0;--shiki-dark:#007CF0"> a</span><span style="color:#E194B5;--shiki-dark:#E194B5"> !==</span><span style="color:#007CF0;--shiki-dark:#007CF0"> 'number'</span><span style="color:#E194B5;--shiki-dark:#E194B5"> ||</span><span style="color:#E194B5;--shiki-dark:#E194B5"> typeof</span><span style="color:#007CF0;--shiki-dark:#007CF0"> b</span><span style="color:#E194B5;--shiki-dark:#E194B5"> !==</span><span style="color:#007CF0;--shiki-dark:#007CF0"> 'number'</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">)</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">{</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span></span>
<span class="line highlighted warning"><span style="color:#007CF0;--shiki-dark:#007CF0">    console</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#E2657E;--shiki-dark:#E2657E">warn</span><span style="--shiki-dark:#179FFF;color:#179FFF">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">'Non-numeric input detected'</span><span style="--shiki-dark:#179FFF;color:#179FFF">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">; </span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">  </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">}</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">  </span></span>
<span class="line"><span style="color:#E194B5;--shiki-dark:#E194B5">  return</span><span style="color:#007CF0;--shiki-dark:#007CF0"> a</span><span style="color:#E194B5;--shiki-dark:#E194B5"> /</span><span style="color:#007CF0;--shiki-dark:#007CF0"> b</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="--shiki-dark:#FFD700;color:#FFD700">}</span></span></code></pre></div>
<h2>Long Code with Horizontal Scrolling</h2>
<p>Here's an example with long lines to demonstrate the copy button staying visible:</p>
<div class="shiki-wrapper"><div class="shiki-header"><div class="shiki-title">Long Lines Example</div><div class="shiki-language">JAVASCRIPT</div><div class="copy-button-placeholder" data-code-id="code-block-1"></div></div><div class="copy-button-placeholder" data-code-id="code-block-1"></div><pre class="shiki shiki-themes theme-custom-light theme-custom-dark" style="background-color:#f9f9f9;--shiki-dark-bg:#031030;color:#000000;--shiki-dark:#b3d8e5" tabindex="0" id="code-block-1"><code><span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6">const</span><span style="color:#E2657E;--shiki-dark:#E2657E"> veryLongConfigurationObject</span><span style="color:#E194B5;--shiki-dark:#E194B5"> =</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#FFD700;color:#FFD700">{</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="color:#007CF0;--shiki-dark:#007CF0">apiEndpoint:</span><span style="color:#007CF0;--shiki-dark:#007CF0"> "https://api.example.com/v1/users"</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#007CF0;--shiki-dark:#007CF0">timeout:</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8"> 5000</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#007CF0;--shiki-dark:#007CF0">retryAttempts:</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8"> 3</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#007CF0;--shiki-dark:#007CF0">headers:</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">{</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="color:#007CF0;--shiki-dark:#007CF0">"Content-Type"</span><span style="color:#007CF0;--shiki-dark:#007CF0">:</span><span style="color:#007CF0;--shiki-dark:#007CF0"> "application/json"</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#007CF0;--shiki-dark:#007CF0">"Authorization"</span><span style="color:#007CF0;--shiki-dark:#007CF0">:</span><span style="color:#007CF0;--shiki-dark:#007CF0"> "Bearer token_goes_here"</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">}</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#007CF0;--shiki-dark:#007CF0">options:</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">{</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="color:#007CF0;--shiki-dark:#007CF0">enableCache:</span><span style="color:#E2657E;--shiki-dark:#E2657E"> true</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#007CF0;--shiki-dark:#007CF0">cacheTimeout:</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8"> 3600</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#007CF0;--shiki-dark:#007CF0">enableLogging:</span><span style="color:#E2657E;--shiki-dark:#E2657E"> true</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#007CF0;--shiki-dark:#007CF0">logLevel:</span><span style="color:#007CF0;--shiki-dark:#007CF0"> "debug"</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">}</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#FFD700;color:#FFD700">}</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6">const</span><span style="color:#E2657E;--shiki-dark:#E2657E"> anotherLongLine</span><span style="color:#E194B5;--shiki-dark:#E194B5"> =</span><span style="color:#007CF0;--shiki-dark:#007CF0"> "This is a very long string that extends far beyond the typical viewport width to demonstrate how the syntax highlighting handles horizontal scrolling while keeping the copy button accessible and visible at all times."</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span></code></pre></div>
<h2>JSON Configuration (and no title)</h2>
<div class="shiki-wrapper"><div class="shiki-language">JSON</div><div class="copy-button-placeholder" data-code-id="code-block-1"></div><pre class="shiki shiki-themes theme-custom-light theme-custom-dark" style="background-color:#f9f9f9;--shiki-dark-bg:#031030;color:#000000;--shiki-dark:#b3d8e5" tabindex="0" id="code-block-1"><code><span class="line"><span style="--shiki-dark:#FFD700;color:#FFD700">{</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">  "name"</span><span style="color:#000000;--shiki-dark:#B3D8E5">: </span><span style="color:#007CF0;--shiki-dark:#007CF0">"shiki-demo"</span><span style="color:#000000;--shiki-dark:#B3D8E5">,</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">  "version"</span><span style="color:#000000;--shiki-dark:#B3D8E5">: </span><span style="color:#007CF0;--shiki-dark:#007CF0">"1.0.0"</span><span style="color:#000000;--shiki-dark:#B3D8E5">,</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">  "description"</span><span style="color:#000000;--shiki-dark:#B3D8E5">: </span><span style="color:#007CF0;--shiki-dark:#007CF0">"Showcasing Shiki syntax highlighting features"</span><span style="color:#000000;--shiki-dark:#B3D8E5">,</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">  "themes"</span><span style="color:#000000;--shiki-dark:#B3D8E5">: </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">{</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">    "light"</span><span style="color:#000000;--shiki-dark:#B3D8E5">: </span><span style="color:#007CF0;--shiki-dark:#007CF0">"custom-light"</span><span style="color:#000000;--shiki-dark:#B3D8E5">,</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">    "dark"</span><span style="color:#000000;--shiki-dark:#B3D8E5">: </span><span style="color:#007CF0;--shiki-dark:#007CF0">"custom-dark"</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">  </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">}</span><span style="color:#000000;--shiki-dark:#B3D8E5">,</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">  "transformers"</span><span style="color:#000000;--shiki-dark:#B3D8E5">: </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">[</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">    "notationDiff"</span><span style="color:#000000;--shiki-dark:#B3D8E5">,</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">    "notationHighlight"</span><span style="color:#000000;--shiki-dark:#B3D8E5">,</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">    "notationWordHighlight"</span><span style="color:#000000;--shiki-dark:#B3D8E5">,</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">    "notationFocus"</span><span style="color:#000000;--shiki-dark:#B3D8E5">,</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">    "notationErrorLevel"</span><span style="color:#000000;--shiki-dark:#B3D8E5">,</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">    "metaHighlight"</span><span style="color:#000000;--shiki-dark:#B3D8E5">,</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">    "metaWordHighlight"</span><span style="color:#000000;--shiki-dark:#B3D8E5">,</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">    "colorizedBrackets"</span><span style="color:#000000;--shiki-dark:#B3D8E5">,</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">    "twoslash"</span><span style="color:#000000;--shiki-dark:#B3D8E5">,</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">    "copyButton"</span><span style="color:#000000;--shiki-dark:#B3D8E5">,</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">    "title"</span><span style="color:#000000;--shiki-dark:#B3D8E5">,</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">    "languageBadge"</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">  </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">]</span></span>
<span class="line"><span style="--shiki-dark:#FFD700;color:#FFD700">}</span></span></code></pre></div>
<h2>Implementation Details: What Changed</h2>
<h3>1. React-Based Copy Button with Dynamic Mounting</h3>
<p>Replaced the inline SVG copy button with a React component that gets dynamically mounted:</p>
<div class="shiki-wrapper"><div class="shiki-header"><div class="shiki-title">hooks/useCodeBlocks.tsx - Dynamic Copy Button Mounting</div><div class="shiki-language">TYPESCRIPT</div><div class="copy-button-placeholder" data-code-id="code-block-1"></div></div><div class="copy-button-placeholder" data-code-id="code-block-1"></div><pre class="shiki shiki-themes theme-custom-light theme-custom-dark" style="background-color:#f9f9f9;--shiki-dark-bg:#031030;color:#000000;--shiki-dark:#b3d8e5" tabindex="0" id="code-block-1"><code><span class="line"><span style="color:#E194B5;--shiki-dark:#E194B5">export</span><span style="color:#569CD6;--shiki-dark:#569CD6"> function</span><span style="color:#E2657E;--shiki-dark:#E2657E"> useCodeBlocks</span><span style="--shiki-dark:#FFD700;color:#FFD700">(</span><span style="--shiki-dark:#FFD700;color:#FFD700">)</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#FFD700;color:#FFD700">{</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6">  const</span><span style="color:#E2657E;--shiki-dark:#E2657E"> rootsRef</span><span style="color:#E194B5;--shiki-dark:#E194B5"> =</span><span style="color:#E2657E;--shiki-dark:#E2657E"> useRef</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">&#x3C;</span><span style="color:#E2657E;--shiki-dark:#E2657E">Map</span><span style="--shiki-dark:#179FFF;color:#179FFF">&#x3C;</span><span style="color:#E2657E;--shiki-dark:#E2657E">HTMLElement</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#E2657E;--shiki-dark:#E2657E">Root</span><span style="--shiki-dark:#179FFF;color:#179FFF">></span><span style="--shiki-dark:#DA70D6;color:#DA70D6">></span><span style="--shiki-dark:#DA70D6;color:#DA70D6">(</span><span style="color:#E194B5;--shiki-dark:#E194B5">new</span><span style="color:#E2657E;--shiki-dark:#E2657E"> Map</span><span style="--shiki-dark:#179FFF;color:#179FFF">(</span><span style="--shiki-dark:#179FFF;color:#179FFF">)</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">  </span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6">  const</span><span style="color:#E2657E;--shiki-dark:#E2657E"> mountCopyButtons</span><span style="color:#E194B5;--shiki-dark:#E194B5"> =</span><span style="color:#E2657E;--shiki-dark:#E2657E"> useCallback</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">(</span><span style="--shiki-dark:#179FFF;color:#179FFF">(</span><span style="--shiki-dark:#179FFF;color:#179FFF">)</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="color:#569CD6;--shiki-dark:#569CD6">=</span><span style="color:#569CD6;--shiki-dark:#569CD6">></span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#179FFF;color:#179FFF">{</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6">    const</span><span style="color:#E2657E;--shiki-dark:#E2657E"> placeholders</span><span style="color:#E194B5;--shiki-dark:#E194B5"> =</span><span style="color:#007CF0;--shiki-dark:#007CF0"> document</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#E2657E;--shiki-dark:#E2657E">querySelectorAll</span><span style="--shiki-dark:#FFD700;color:#FFD700">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">'.copy-button-placeholder'</span><span style="--shiki-dark:#FFD700;color:#FFD700">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">    </span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">    placeholders</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#E2657E;--shiki-dark:#E2657E">forEach</span><span style="--shiki-dark:#FFD700;color:#FFD700">(</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">placeholder</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">)</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="color:#569CD6;--shiki-dark:#569CD6">=</span><span style="color:#569CD6;--shiki-dark:#569CD6">></span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">{</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6">      const</span><span style="color:#E2657E;--shiki-dark:#E2657E"> element</span><span style="color:#E194B5;--shiki-dark:#E194B5"> =</span><span style="color:#007CF0;--shiki-dark:#007CF0"> placeholder</span><span style="color:#E194B5;--shiki-dark:#E194B5"> as</span><span style="color:#E2657E;--shiki-dark:#E2657E"> HTMLElement</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6">      const</span><span style="color:#E2657E;--shiki-dark:#E2657E"> codeId</span><span style="color:#E194B5;--shiki-dark:#E194B5"> =</span><span style="color:#007CF0;--shiki-dark:#007CF0"> element</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#E2657E;--shiki-dark:#E2657E">getAttribute</span><span style="--shiki-dark:#179FFF;color:#179FFF">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">'data-code-id'</span><span style="--shiki-dark:#179FFF;color:#179FFF">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">      </span></span>
<span class="line"><span style="color:#E194B5;--shiki-dark:#E194B5">      if</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#179FFF;color:#179FFF">(</span><span style="color:#E194B5;--shiki-dark:#E194B5">!</span><span style="color:#007CF0;--shiki-dark:#007CF0">codeId</span><span style="color:#E194B5;--shiki-dark:#E194B5"> ||</span><span style="color:#007CF0;--shiki-dark:#007CF0"> rootsRef</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#007CF0;--shiki-dark:#007CF0">current</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#E2657E;--shiki-dark:#E2657E">has</span><span style="--shiki-dark:#FFD700;color:#FFD700">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">element</span><span style="--shiki-dark:#FFD700;color:#FFD700">)</span><span style="--shiki-dark:#179FFF;color:#179FFF">)</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="color:#E194B5;--shiki-dark:#E194B5">return</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">      </span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6">      const</span><span style="color:#E2657E;--shiki-dark:#E2657E"> root</span><span style="color:#E194B5;--shiki-dark:#E194B5"> =</span><span style="color:#E2657E;--shiki-dark:#E2657E"> createRoot</span><span style="--shiki-dark:#179FFF;color:#179FFF">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">element</span><span style="--shiki-dark:#179FFF;color:#179FFF">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">      root</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#E2657E;--shiki-dark:#E2657E">render</span><span style="--shiki-dark:#179FFF;color:#179FFF">(</span><span style="color:#000000;--shiki-dark:#B3D8E5">&#x3C;</span><span style="color:#E2657E;--shiki-dark:#E2657E">CopyButton</span><span style="color:#E2657E;--shiki-dark:#E2657E"> codeId</span><span style="color:#000000;--shiki-dark:#B3D8E5">=</span><span style="--shiki-dark:#FFD700;color:#FFD700">{</span><span style="color:#007CF0;--shiki-dark:#007CF0">codeId</span><span style="--shiki-dark:#FFD700;color:#FFD700">}</span><span style="color:#000000;--shiki-dark:#B3D8E5"> /</span><span style="color:#000000;--shiki-dark:#B3D8E5">></span><span style="--shiki-dark:#179FFF;color:#179FFF">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">      rootsRef</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#007CF0;--shiki-dark:#007CF0">current</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#E2657E;--shiki-dark:#E2657E">set</span><span style="--shiki-dark:#179FFF;color:#179FFF">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">element</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#007CF0;--shiki-dark:#007CF0">root</span><span style="--shiki-dark:#179FFF;color:#179FFF">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">    </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">}</span><span style="--shiki-dark:#FFD700;color:#FFD700">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">  </span><span style="--shiki-dark:#179FFF;color:#179FFF">}</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="--shiki-dark:#179FFF;color:#179FFF">[</span><span style="--shiki-dark:#179FFF;color:#179FFF">]</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">  </span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955">  // MutationObserver watches for new code blocks added dynamically</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955">  // ... observer setup code</span></span>
<span class="line"><span style="--shiki-dark:#FFD700;color:#FFD700">}</span></span></code></pre></div>
<div class="shiki-wrapper"><div class="shiki-header"><div class="shiki-title">components/CopyButton.tsx - React Copy Component</div><div class="shiki-language">TSX</div><div class="copy-button-placeholder" data-code-id="code-block-1"></div></div><div class="copy-button-placeholder" data-code-id="code-block-1"></div><pre class="shiki shiki-themes theme-custom-light theme-custom-dark" style="background-color:#f9f9f9;--shiki-dark-bg:#031030;color:#000000;--shiki-dark:#b3d8e5" tabindex="0" id="code-block-1"><code><span class="line"><span style="color:#E194B5;--shiki-dark:#E194B5">export</span><span style="color:#E194B5;--shiki-dark:#E194B5"> default</span><span style="color:#569CD6;--shiki-dark:#569CD6"> function</span><span style="color:#E2657E;--shiki-dark:#E2657E"> CopyButton</span><span style="--shiki-dark:#FFD700;color:#FFD700">(</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">{</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="color:#007CF0;--shiki-dark:#007CF0">codeId</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">}</span><span style="color:#E194B5;--shiki-dark:#E194B5">:</span><span style="color:#E2657E;--shiki-dark:#E2657E"> CopyButtonProps</span><span style="--shiki-dark:#FFD700;color:#FFD700">)</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#FFD700;color:#FFD700">{</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6">  const</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">[</span><span style="color:#E2657E;--shiki-dark:#E2657E">copied</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#E2657E;--shiki-dark:#E2657E">setCopied</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">]</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="color:#E194B5;--shiki-dark:#E194B5">=</span><span style="color:#E2657E;--shiki-dark:#E2657E"> useState</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">(</span><span style="color:#E2657E;--shiki-dark:#E2657E">false</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6">  const</span><span style="color:#E2657E;--shiki-dark:#E2657E"> handleCopy</span><span style="color:#E194B5;--shiki-dark:#E194B5"> =</span><span style="color:#569CD6;--shiki-dark:#569CD6"> async</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">(</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">)</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="color:#569CD6;--shiki-dark:#569CD6">=</span><span style="color:#569CD6;--shiki-dark:#569CD6">></span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">{</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6">    const</span><span style="color:#E2657E;--shiki-dark:#E2657E"> codeElement</span><span style="color:#E194B5;--shiki-dark:#E194B5"> =</span><span style="color:#007CF0;--shiki-dark:#007CF0"> document</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#E2657E;--shiki-dark:#E2657E">querySelector</span><span style="--shiki-dark:#179FFF;color:#179FFF">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">`#</span><span style="color:#999999;--shiki-dark:#999999">${</span><span style="color:#007CF0;--shiki-dark:#007CF0">codeId</span><span style="color:#999999;--shiki-dark:#999999">}</span><span style="color:#007CF0;--shiki-dark:#007CF0"> code`</span><span style="--shiki-dark:#179FFF;color:#179FFF">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#E194B5;--shiki-dark:#E194B5">    if</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#179FFF;color:#179FFF">(</span><span style="color:#E194B5;--shiki-dark:#E194B5">!</span><span style="color:#007CF0;--shiki-dark:#007CF0">codeElement</span><span style="--shiki-dark:#179FFF;color:#179FFF">)</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="color:#E194B5;--shiki-dark:#E194B5">return</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">    </span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6">    const</span><span style="color:#E2657E;--shiki-dark:#E2657E"> code</span><span style="color:#E194B5;--shiki-dark:#E194B5"> =</span><span style="color:#007CF0;--shiki-dark:#007CF0"> codeElement</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#007CF0;--shiki-dark:#007CF0">textContent</span><span style="color:#E194B5;--shiki-dark:#E194B5"> ||</span><span style="color:#007CF0;--shiki-dark:#007CF0"> ''</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#E194B5;--shiki-dark:#E194B5">    await</span><span style="color:#007CF0;--shiki-dark:#007CF0"> navigator</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#007CF0;--shiki-dark:#007CF0">clipboard</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#E2657E;--shiki-dark:#E2657E">writeText</span><span style="--shiki-dark:#179FFF;color:#179FFF">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">code</span><span style="--shiki-dark:#179FFF;color:#179FFF">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">    </span></span>
<span class="line"><span style="color:#E2657E;--shiki-dark:#E2657E">    setCopied</span><span style="--shiki-dark:#179FFF;color:#179FFF">(</span><span style="color:#E2657E;--shiki-dark:#E2657E">true</span><span style="--shiki-dark:#179FFF;color:#179FFF">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#E2657E;--shiki-dark:#E2657E">    setTimeout</span><span style="--shiki-dark:#179FFF;color:#179FFF">(</span><span style="--shiki-dark:#FFD700;color:#FFD700">(</span><span style="--shiki-dark:#FFD700;color:#FFD700">)</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="color:#569CD6;--shiki-dark:#569CD6">=</span><span style="color:#569CD6;--shiki-dark:#569CD6">></span><span style="color:#E2657E;--shiki-dark:#E2657E"> setCopied</span><span style="--shiki-dark:#FFD700;color:#FFD700">(</span><span style="color:#E2657E;--shiki-dark:#E2657E">false</span><span style="--shiki-dark:#FFD700;color:#FFD700">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">2000</span><span style="--shiki-dark:#179FFF;color:#179FFF">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">  </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">}</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E194B5;--shiki-dark:#E194B5">  return</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">(</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#999999">    </span><span style="color:#999999;--shiki-dark:#999999">&#x3C;</span><span style="color:#E2657E;--shiki-dark:#E2657E">button</span><span style="color:#007CF0;--shiki-dark:#007CF0"> className</span><span style="color:#E194B5;--shiki-dark:#E194B5">=</span><span style="color:#007CF0;--shiki-dark:#007CF0">"shiki-copy-button"</span><span style="color:#007CF0;--shiki-dark:#007CF0"> onClick</span><span style="color:#E194B5;--shiki-dark:#E194B5">=</span><span style="--shiki-dark:#179FFF;color:#179FFF">{</span><span style="color:#007CF0;--shiki-dark:#007CF0">handleCopy</span><span style="--shiki-dark:#179FFF;color:#179FFF">}</span><span style="color:#999999;--shiki-dark:#999999">></span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#999999">      </span><span style="--shiki-dark:#179FFF;color:#179FFF">{</span><span style="color:#007CF0;--shiki-dark:#007CF0">copied</span><span style="color:#E194B5;--shiki-dark:#E194B5"> ?</span><span style="color:#999999;--shiki-dark:#999999"> </span><span style="color:#999999;--shiki-dark:#999999">&#x3C;</span><span style="color:#E2657E;--shiki-dark:#E2657E">Check</span><span style="color:#007CF0;--shiki-dark:#007CF0"> size</span><span style="color:#E194B5;--shiki-dark:#E194B5">=</span><span style="--shiki-dark:#FFD700;color:#FFD700">{</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">16</span><span style="--shiki-dark:#FFD700;color:#FFD700">}</span><span style="color:#999999;--shiki-dark:#999999"> /</span><span style="color:#999999;--shiki-dark:#999999">></span><span style="color:#E194B5;--shiki-dark:#E194B5"> :</span><span style="color:#999999;--shiki-dark:#999999"> </span><span style="color:#999999;--shiki-dark:#999999">&#x3C;</span><span style="color:#E2657E;--shiki-dark:#E2657E">Copy</span><span style="color:#007CF0;--shiki-dark:#007CF0"> size</span><span style="color:#E194B5;--shiki-dark:#E194B5">=</span><span style="--shiki-dark:#FFD700;color:#FFD700">{</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">16</span><span style="--shiki-dark:#FFD700;color:#FFD700">}</span><span style="color:#999999;--shiki-dark:#999999"> /</span><span style="color:#999999;--shiki-dark:#999999">></span><span style="--shiki-dark:#179FFF;color:#179FFF">}</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#999999">    </span><span style="color:#999999;--shiki-dark:#999999">&#x3C;</span><span style="color:#999999;--shiki-dark:#999999">/</span><span style="color:#E2657E;--shiki-dark:#E2657E">button</span><span style="color:#999999;--shiki-dark:#999999">></span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">  </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="--shiki-dark:#FFD700;color:#FFD700">}</span></span></code></pre></div>
<h3>2. Custom Transformers for Enhanced Features</h3>
<p>Created custom Shiki transformers to handle titles and diff lines:</p>
<div class="shiki-wrapper"><div class="shiki-header"><div class="shiki-title">utils.ts - Custom Title Transformer</div><div class="shiki-language">JAVASCRIPT</div><div class="copy-button-placeholder" data-code-id="code-block-1"></div></div><div class="copy-button-placeholder" data-code-id="code-block-1"></div><pre class="shiki shiki-themes theme-custom-light theme-custom-dark" style="background-color:#f9f9f9;--shiki-dark-bg:#031030;color:#000000;--shiki-dark:#b3d8e5" tabindex="0" id="code-block-1"><code><span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6">function</span><span style="color:#E2657E;--shiki-dark:#E2657E"> transformerTitle</span><span style="--shiki-dark:#FFD700;color:#FFD700">(</span><span style="--shiki-dark:#FFD700;color:#FFD700">)</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#FFD700;color:#FFD700">{</span></span>
<span class="line"><span style="color:#E194B5;--shiki-dark:#E194B5">  return</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">{</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">    name:</span><span style="color:#007CF0;--shiki-dark:#007CF0"> 'title'</span><span style="color:#000000;--shiki-dark:#B3D8E5">,</span></span>
<span class="line"><span style="color:#E2657E;--shiki-dark:#E2657E">    preprocess</span><span style="--shiki-dark:#179FFF;color:#179FFF">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">code</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#007CF0;--shiki-dark:#007CF0">options</span><span style="--shiki-dark:#179FFF;color:#179FFF">)</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#179FFF;color:#179FFF">{</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955">      // Extract title from comments like: // [title: My Title]</span></span>
<span class="line"><span style="color:#E194B5;--shiki-dark:#E194B5">      if</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#FFD700;color:#FFD700">(</span><span style="color:#E194B5;--shiki-dark:#E194B5">!</span><span style="color:#007CF0;--shiki-dark:#007CF0">code</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#E2657E;--shiki-dark:#E2657E">includes</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">'[title:'</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">)</span><span style="--shiki-dark:#FFD700;color:#FFD700">)</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="color:#E194B5;--shiki-dark:#E194B5">return</span><span style="color:#007CF0;--shiki-dark:#007CF0"> code</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">      </span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6">      const</span><span style="color:#E2657E;--shiki-dark:#E2657E"> lines</span><span style="color:#E194B5;--shiki-dark:#E194B5"> =</span><span style="color:#007CF0;--shiki-dark:#007CF0"> code</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#E2657E;--shiki-dark:#E2657E">split</span><span style="--shiki-dark:#FFD700;color:#FFD700">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">'</span><span style="color:#E2657E;--shiki-dark:#E2657E">\n</span><span style="color:#007CF0;--shiki-dark:#007CF0">'</span><span style="--shiki-dark:#FFD700;color:#FFD700">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6">      const</span><span style="color:#E2657E;--shiki-dark:#E2657E"> firstLine</span><span style="color:#E194B5;--shiki-dark:#E194B5"> =</span><span style="color:#007CF0;--shiki-dark:#007CF0"> lines</span><span style="--shiki-dark:#FFD700;color:#FFD700">[</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">0</span><span style="--shiki-dark:#FFD700;color:#FFD700">]</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6">      const</span><span style="color:#E2657E;--shiki-dark:#E2657E"> titleStart</span><span style="color:#E194B5;--shiki-dark:#E194B5"> =</span><span style="color:#007CF0;--shiki-dark:#007CF0"> firstLine</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#E2657E;--shiki-dark:#E2657E">indexOf</span><span style="--shiki-dark:#FFD700;color:#FFD700">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">'[title:'</span><span style="--shiki-dark:#FFD700;color:#FFD700">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6">      const</span><span style="color:#E2657E;--shiki-dark:#E2657E"> titleEnd</span><span style="color:#E194B5;--shiki-dark:#E194B5"> =</span><span style="color:#007CF0;--shiki-dark:#007CF0"> firstLine</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#E2657E;--shiki-dark:#E2657E">indexOf</span><span style="--shiki-dark:#FFD700;color:#FFD700">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">']'</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#007CF0;--shiki-dark:#007CF0">titleStart</span><span style="--shiki-dark:#FFD700;color:#FFD700">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">      </span></span>
<span class="line"><span style="color:#E194B5;--shiki-dark:#E194B5">      if</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#FFD700;color:#FFD700">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">titleStart</span><span style="color:#E194B5;--shiki-dark:#E194B5"> !==</span><span style="color:#E194B5;--shiki-dark:#E194B5"> -</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">1</span><span style="color:#E194B5;--shiki-dark:#E194B5"> &#x26;&#x26;</span><span style="color:#007CF0;--shiki-dark:#007CF0"> titleEnd</span><span style="color:#E194B5;--shiki-dark:#E194B5"> </span><span style="color:#E194B5;--shiki-dark:#E194B5">></span><span style="color:#007CF0;--shiki-dark:#007CF0"> titleStart</span><span style="--shiki-dark:#FFD700;color:#FFD700">)</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#FFD700;color:#FFD700">{</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6">        const</span><span style="color:#E2657E;--shiki-dark:#E2657E"> title</span><span style="color:#E194B5;--shiki-dark:#E194B5"> =</span><span style="color:#007CF0;--shiki-dark:#007CF0"> firstLine</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#E2657E;--shiki-dark:#E2657E">slice</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">titleStart</span><span style="color:#E194B5;--shiki-dark:#E194B5"> +</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8"> 7</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#007CF0;--shiki-dark:#007CF0">titleEnd</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#E2657E;--shiki-dark:#E2657E">trim</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">(</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">        options</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#007CF0;--shiki-dark:#007CF0">meta</span><span style="color:#E194B5;--shiki-dark:#E194B5"> =</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">{</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="color:#E194B5;--shiki-dark:#E194B5">...</span><span style="color:#007CF0;--shiki-dark:#007CF0">options</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#007CF0;--shiki-dark:#007CF0">meta</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#007CF0;--shiki-dark:#007CF0">title</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">}</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#E194B5;--shiki-dark:#E194B5">        return</span><span style="color:#007CF0;--shiki-dark:#007CF0"> lines</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#E2657E;--shiki-dark:#E2657E">slice</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">(</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">1</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#E2657E;--shiki-dark:#E2657E">join</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">'</span><span style="color:#E2657E;--shiki-dark:#E2657E">\n</span><span style="color:#007CF0;--shiki-dark:#007CF0">'</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">; </span><span style="color:#6A9955;--shiki-dark:#6A9955">// Remove title line from code</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">      </span><span style="--shiki-dark:#FFD700;color:#FFD700">}</span></span>
<span class="line"><span style="color:#E194B5;--shiki-dark:#E194B5">      return</span><span style="color:#007CF0;--shiki-dark:#007CF0"> code</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">    </span><span style="--shiki-dark:#179FFF;color:#179FFF">}</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">  </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">}</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="--shiki-dark:#FFD700;color:#FFD700">}</span></span></code></pre></div>
<div class="shiki-wrapper"><div class="shiki-header"><div class="shiki-title">utils.ts - Diff Lines Transformer</div><div class="shiki-language">JAVASCRIPT</div><div class="copy-button-placeholder" data-code-id="code-block-1"></div></div><div class="copy-button-placeholder" data-code-id="code-block-1"></div><pre class="shiki shiki-themes theme-custom-light theme-custom-dark" style="background-color:#f9f9f9;--shiki-dark-bg:#031030;color:#000000;--shiki-dark:#b3d8e5" tabindex="0" id="code-block-1"><code><span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6">function</span><span style="color:#E2657E;--shiki-dark:#E2657E"> transformerDiffLines</span><span style="--shiki-dark:#FFD700;color:#FFD700">(</span><span style="--shiki-dark:#FFD700;color:#FFD700">)</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#FFD700;color:#FFD700">{</span></span>
<span class="line"><span style="color:#E194B5;--shiki-dark:#E194B5">  return</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">{</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">    name:</span><span style="color:#007CF0;--shiki-dark:#007CF0"> 'diff-lines'</span><span style="color:#000000;--shiki-dark:#B3D8E5">,</span></span>
<span class="line"><span style="color:#E2657E;--shiki-dark:#E2657E">    code</span><span style="--shiki-dark:#179FFF;color:#179FFF">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">node</span><span style="--shiki-dark:#179FFF;color:#179FFF">)</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#179FFF;color:#179FFF">{</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">      node</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#007CF0;--shiki-dark:#007CF0">children</span><span style="color:#000000;--shiki-dark:#B3D8E5">?.</span><span style="color:#E2657E;--shiki-dark:#E2657E">forEach</span><span style="--shiki-dark:#FFD700;color:#FFD700">(</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">line</span><span style="--shiki-dark:#DA70D6;color:#DA70D6">)</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="color:#569CD6;--shiki-dark:#569CD6">=</span><span style="color:#569CD6;--shiki-dark:#569CD6">></span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">{</span></span>
<span class="line"><span style="color:#569CD6;--shiki-dark:#569CD6">        const</span><span style="color:#E2657E;--shiki-dark:#E2657E"> firstText</span><span style="color:#E194B5;--shiki-dark:#E194B5"> =</span><span style="color:#E2657E;--shiki-dark:#E2657E"> getFirstText</span><span style="--shiki-dark:#179FFF;color:#179FFF">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">line</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#007CF0;--shiki-dark:#007CF0">children</span><span style="--shiki-dark:#FFD700;color:#FFD700">[</span><span style="color:#B5CEA8;--shiki-dark:#B5CEA8">0</span><span style="--shiki-dark:#FFD700;color:#FFD700">]</span><span style="--shiki-dark:#179FFF;color:#179FFF">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">        </span></span>
<span class="line"><span style="color:#E194B5;--shiki-dark:#E194B5">        if</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#179FFF;color:#179FFF">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">firstText</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#E2657E;--shiki-dark:#E2657E">startsWith</span><span style="--shiki-dark:#FFD700;color:#FFD700">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">'+'</span><span style="--shiki-dark:#FFD700;color:#FFD700">)</span><span style="--shiki-dark:#179FFF;color:#179FFF">)</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#179FFF;color:#179FFF">{</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955">          // Add classes for additions</span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">          line</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#007CF0;--shiki-dark:#007CF0">properties</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#007CF0;--shiki-dark:#007CF0">class</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#E2657E;--shiki-dark:#E2657E">push</span><span style="--shiki-dark:#FFD700;color:#FFD700">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">'diff'</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#007CF0;--shiki-dark:#007CF0">'add'</span><span style="--shiki-dark:#FFD700;color:#FFD700">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">        </span><span style="--shiki-dark:#179FFF;color:#179FFF">}</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="color:#E194B5;--shiki-dark:#E194B5">else</span><span style="color:#E194B5;--shiki-dark:#E194B5"> if</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#179FFF;color:#179FFF">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">firstText</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#E2657E;--shiki-dark:#E2657E">startsWith</span><span style="--shiki-dark:#FFD700;color:#FFD700">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">'-'</span><span style="--shiki-dark:#FFD700;color:#FFD700">)</span><span style="--shiki-dark:#179FFF;color:#179FFF">)</span><span style="color:#000000;--shiki-dark:#B3D8E5"> </span><span style="--shiki-dark:#179FFF;color:#179FFF">{</span></span>
<span class="line"><span style="color:#6A9955;--shiki-dark:#6A9955">          // Add classes for deletions  </span></span>
<span class="line"><span style="color:#007CF0;--shiki-dark:#007CF0">          line</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#007CF0;--shiki-dark:#007CF0">properties</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#007CF0;--shiki-dark:#007CF0">class</span><span style="color:#000000;--shiki-dark:#B3D8E5">.</span><span style="color:#E2657E;--shiki-dark:#E2657E">push</span><span style="--shiki-dark:#FFD700;color:#FFD700">(</span><span style="color:#007CF0;--shiki-dark:#007CF0">'diff'</span><span style="color:#000000;--shiki-dark:#B3D8E5">, </span><span style="color:#007CF0;--shiki-dark:#007CF0">'remove'</span><span style="--shiki-dark:#FFD700;color:#FFD700">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">        </span><span style="--shiki-dark:#179FFF;color:#179FFF">}</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">      </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">}</span><span style="--shiki-dark:#FFD700;color:#FFD700">)</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">    </span><span style="--shiki-dark:#179FFF;color:#179FFF">}</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#B3D8E5">  </span><span style="--shiki-dark:#DA70D6;color:#DA70D6">}</span><span style="color:#000000;--shiki-dark:#B3D8E5">;</span></span>
<span class="line"><span style="--shiki-dark:#FFD700;color:#FFD700">}</span></span></code></pre></div>
<h3>3. Improved CSS Architecture</h3>
<p>Rewrote the code block styles with:</p>
<ul>
<li>Table-based layout for proper line numbering</li>
<li>Sticky positioning for line numbers during scroll</li>
<li>Dark mode support with CSS custom properties</li>
<li>Optimized Sass using scalable variable system (<code>$m-*</code> sizing, <code>$radius-*</code> for borders)</li>
</ul>
<h3>4. Giscus Theme &#x26; Dynamic Import Improvements</h3>
<ul>
<li>Switched from custom-hosted CSS to built-in Giscus themes (<code>dark</code>/<code>light</code>)</li>
<li>Replaced lazy loading with Next.js dynamic imports for better SSR handling</li>
<li>Added proper loading states and error boundaries</li>
</ul>
<h2>^^Key Challenges and Lessons Learned^^</h2>
<p>^^Throughout this implementation, several challenges emerged that required creative solutions:^^</p>
<p>^^<strong>1. Transformer Execution Order</strong> - Understanding when each transformer hook executes was crucial. The <code>preprocess()</code> hook runs before tokenization, <code>code()</code> during rendering, and <code>pre()</code> after the code block is assembled. Getting data to flow between these stages required careful use of the options object and node properties.^^</p>
<p>^^<strong>2. React Hydration Issues</strong> - Initially, server-rendered copy buttons would fail to hydrate properly in Next.js. The solution was to use placeholders during SSR and dynamically mount React components client-side using a MutationObserver to detect new code blocks.^^</p>
<p>^^<strong>3. Sticky Positioning in Tables</strong> - Achieving sticky line numbers while maintaining proper code alignment required switching from a flex layout to a table-based layout. This allowed line numbers to remain visible during horizontal scrolling while the code content scrolls naturally.^^</p>
<p>^^<strong>4. Dark Mode Background Overrides</strong> - Shiki applies inline background colors from its themes, which can override CSS custom properties. The solution was using <code>!important</code> flags specifically scoped to dark mode contexts, ensuring the theme background is properly overridden.^^</p>
<p>^^<strong>5. Copy Button State Management</strong> - Managing the copied state across multiple code blocks required generating unique IDs for each block and ensuring the React components properly tracked which block was just copied from. The <code>data-code-id</code> attribute system solved this cleanly.^^</p>
<h2>Conclusion</h2>
<p>The enhanced Shiki implementation now provides:</p>
<ol>
<li><strong>React-Based Interactivity</strong> - Dynamic copy button mounting with proper state management</li>
<li><strong>Custom Transformers</strong> - Title extraction, diff highlighting, and tooltip support</li>
<li><strong>Improved CSS Architecture</strong> - Table-based layout for proper line numbering and sticky positioning</li>
<li><strong>Dark Mode Support</strong> - Seamless theme switching with custom color overrides</li>
<li><strong>Performance Optimizations</strong> - Efficient dynamic imports and debounced DOM observations</li>
</ol>
<p>^^These improvements make code blocks more readable, functional, and interactive across all devices and themes. The combination of Shiki's powerful syntax highlighting engine with custom transformers and React-based interactivity creates a robust solution that handles everything from simple code snippets to complex examples with annotations, highlighting, and diff notation.^^</p>
<p>^^For developers looking to implement similar features, the key takeaways are:^^
^^- Invest time in understanding Shiki's transformer lifecycle - it's more flexible than it initially appears^^
^^- Use React's dynamic mounting capabilities for interactive elements that need state management^^
^^- Don't fight against inline styles - work with them using scoped overrides when necessary^^
^^- Test thoroughly across SSR and CSR scenarios to catch hydration mismatches early^^</p>
<p>^^The result is a code highlighting system that not only looks great but also provides the interactive features modern technical documentation demands.^^</p>
<p>This comprehensive implementation ensures that code snippets are not just functional but also beautiful and user-friendly across all devices and themes, with optimized Sass using a scalable variable system for maintainability.</p></div><div class="post__giscus"><div class="giscus-placeholder"><button class="giscus-placeholder__button">Load Comments</button></div></div></div><aside class="aside"><div class="aside__meta"><header class="aside__header"><h3 class="aside__title">Shiki Syntax Highlighting: More features for markdown</h3></header><section class="share"><nav class="share__nav"><button class="share__button">Share Article Link</button></nav></section></div></aside></section></article><footer class="site-footer" role="contentinfo" itemType="http://schema.org/WPFooter"><section class="site-footer__wrapper site-footer__wrapper--main"><article class="site-footer__col site-footer__col--contact"><h3 class="site-footer__title">Contact</h3><address class="site-footer__address"><p class="site-footer__content">Happy to chat, learn, help!</p><p class="site-footer__content"><a href="mailto:yowainwright@gmail.com">yowainwright@gmail.com</a>, Los Angeles, CA</p></address></article><div class="site-footer__col site-footer__col site-footer__col--social"><h3 class="site-footer__title">Connect</h3><nav class="social-footer"><ul class="social-list"><li class="social-list__item social-list__item--showing"><a href="https://github.com/yowainwright" class="social-list__link">Github</a></li><li class="social-list__item social-list__item--showing"><a href="https://instagram.com/yowainwright" class="social-list__link">Instragram</a></li><li class="social-list__item social-list__item--showing"><a href="https://www.linkedin.com/in/jeffrywainwright/" class="social-list__link">LinkedIn</a></li></ul></nav></div><article class="site-footer__col site-footer__col--self"><h3 class="site-footer__title site-footer__title--self">About</h3><figure class="site-footer__figure"><img class="media--circular site-footer__image" src="https://yowainwright.imgix.net/portraits/me-smiling.jpg?w=150&amp;h=150&amp;fit=crop&amp;auto=format" height="100%" width="100%" alt="Me smiling with a beard"/><figcaption class="site-footer__caption"><a class="site-footer__link" href="/"><strong>jeffry.in</strong>, <!-- -->2025</a>, is the blog of<!-- --> <a class="site-footer__link" href="/about">Jeffry (Jeff) Wainwright</a>, a software engineer, person, living in Los Angeles.</figcaption></figure></article></section><section class="site-footer__wrapper site-footer__wrapper--last"><h3 class="site-footer__title site-footer__title--last"><a class="site-footer__link" href="/">jeffry.in</a>, <!-- -->2025</h3></section></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{"title":"Shiki Syntax Highlighting: More features for markdown","meta":"Comprehensive Shiki syntax highlighting implementation with custom themes, diff notation, line highlighting, focus modes, error annotations, interactive copy buttons, and optimized Sass architecture using a scalable variable system.","tags":["Shiki","Syntax Highlighting","Sass","CSS","Performance"],"date":"August 31, 2025","path":"/shiki-syntax"},"content":"\u003cp\u003e\u003ca href=\"https://shiki.matsu.io/\"\u003eShiki\u003c/a\u003e's been used on this site for some time. ^^But it was missing several key features that Shiki provides out of the box, including language badges, custom transformers for enhanced metadata, and more granular control over code block styling.^^\u003c/p\u003e\n\u003ch2\u003eTL;DR\u003c/h2\u003e\n\u003cp\u003e\u003ccode\u003ehttps://jeffry.in\u003c/code\u003e is updated with Shiki codeblocks, including:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eTransformers for\u003c/strong\u003e for titles, diffs, and tooltips\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eEnhanced CSS\u003c/strong\u003e with sticky line numbers and proper dark mode support\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eSimplified Giscus integration\u003c/strong\u003e using built-in themes, and\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003ePerformance optimizations\u003c/strong\u003e with \u003ca href=\"https://nextjs.org/\"\u003eNext.js\u003c/a\u003e dynamic imports\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2\u003eSyntax Highlighting Overview\u003c/h2\u003e\n\u003cp\u003eHere's a simple example. In code block below, you'll observe, a title, the languages, a copy button and Shiki syntax highlighting.\u003c/p\u003e\n\u003cdiv class=\"shiki-wrapper\"\u003e\u003cdiv class=\"shiki-header\"\u003e\u003cdiv class=\"shiki-title\"\u003eBasic JavaScript Example\u003c/div\u003e\u003cdiv class=\"shiki-language\"\u003eJAVASCRIPT\u003c/div\u003e\u003cdiv class=\"copy-button-placeholder\" data-code-id=\"code-block-1\"\u003e\u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"copy-button-placeholder\" data-code-id=\"code-block-1\"\u003e\u003c/div\u003e\u003cpre class=\"shiki shiki-themes theme-custom-light theme-custom-dark\" style=\"background-color:#f9f9f9;--shiki-dark-bg:#031030;color:#000000;--shiki-dark:#b3d8e5\" tabindex=\"0\" id=\"code-block-1\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003econst\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e greeting\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e \"Hello, Shiki!\"\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003econst\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e numbers\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e1\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e2\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e3\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e4\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e5\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003efunction\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e calculateSum\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003earr\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e  return\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e arr\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003ereduce\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e(\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003esum\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003enum\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003e\u003e\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e sum\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e +\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e num\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e0\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003econsole\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003elog\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003egreeting\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003econsole\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003elog\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e`Sum: \u003c/span\u003e\u003cspan style=\"color:#999999;--shiki-dark:#999999\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003ecalculateSum\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003enumbers\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999;--shiki-dark:#999999\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e`\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch2\u003eLanguage Support\u003c/h2\u003e\n\u003cp\u003eShiki supports multiple programming languages out of the box. However, I wanted to add the language as a badge which was harder than expected.\nI found I could view that information from Shiki but I wasn't able to hoist it to code block headers as easily as I would have liked.\nShiki's transformer architecture transformers and executes at different stages of the rendering pipeline, and language metadata isn't always accessible in the pre-processing phase where it can be injected into header elements. \u003ccode\u003ecode()\u003c/code\u003e and \u003ccode\u003epreprocess()\u003c/code\u003e hooks run at different times, and getting data to flow between them requires a little state management through the options object.\u003c/p\u003e\n\u003ch3\u003eTypeScript with Type Annotations\u003c/h3\u003e\n\u003cdiv class=\"shiki-wrapper\"\u003e\u003cdiv class=\"shiki-header\"\u003e\u003cdiv class=\"shiki-title\"\u003eTypeScript Example\u003c/div\u003e\u003cdiv class=\"shiki-language\"\u003eTYPESCRIPT\u003c/div\u003e\u003cdiv class=\"copy-button-placeholder\" data-code-id=\"code-block-1\"\u003e\u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"copy-button-placeholder\" data-code-id=\"code-block-1\"\u003e\u003c/div\u003e\u003cpre class=\"shiki shiki-themes theme-custom-light theme-custom-dark\" style=\"background-color:#f9f9f9;--shiki-dark-bg:#031030;color:#000000;--shiki-dark:#b3d8e5\" tabindex=\"0\" id=\"code-block-1\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003einterface\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e User\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e  id\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e number\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e  name\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e string\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e  email\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e string\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e  isActive\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e boolean\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003eclass\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e UserService\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003e  private\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e users\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e User\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e[\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e[\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e  addUser\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003euser\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e User\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e void\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e    this\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003eusers\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003epush\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003euser\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e  \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e  getActiveUsers\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e(\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e User\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e[\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e    return\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e this\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003eusers\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003efilter\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003euser\u003c/span\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003e\u003e\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e user\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003eisActive\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e  \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003econst\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e service\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e new\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e UserService\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e(\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eI was able to hack my way to the functionality I wanted. The key was creating a custom transformer that stores language information in the root node's data attributes during the \u003ccode\u003eroot()\u003c/code\u003e phase, then injecting the badge element during the \u003ccode\u003epre()\u003c/code\u003e phase when the parent container is available. This approach ensures the language badge appears in the header alongside titles and other metadata.^^\u003c/p\u003e\n\u003ch3\u003eWith Python Example\u003c/h3\u003e\n\u003cdiv class=\"shiki-wrapper\"\u003e\u003cdiv class=\"shiki-header\"\u003e\u003cdiv class=\"shiki-title\"\u003ePython Data Processing\u003c/div\u003e\u003cdiv class=\"shiki-language\"\u003ePYTHON\u003c/div\u003e\u003cdiv class=\"copy-button-placeholder\" data-code-id=\"code-block-1\"\u003e\u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"copy-button-placeholder\" data-code-id=\"code-block-1\"\u003e\u003c/div\u003e\u003cpre class=\"shiki shiki-themes theme-custom-light theme-custom-dark\" style=\"background-color:#f9f9f9;--shiki-dark-bg:#031030;color:#000000;--shiki-dark:#b3d8e5\" tabindex=\"0\" id=\"code-block-1\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003eimport\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e pandas \u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003eas\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e pd\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003eimport\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e numpy \u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003eas\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e np\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003edef\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e process_data\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003edata\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e    \"\"\"Process and analyze data using pandas.\"\"\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e    df \u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e pd.DataFrame\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003edata\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e    \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6A9955;--shiki-dark:#6A9955\"\u003e    # Calculate statistics\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e    mean_value \u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e df\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e'value'\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.mean\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e(\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e    std_dev \u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e df\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e'value'\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.std\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e(\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e    \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e    return\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e        'mean'\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e: mean_value,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e        'std'\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e: std_dev,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e        'count'\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003elen\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003edf\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e    \u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6A9955;--shiki-dark:#6A9955\"\u003e# Sample data\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003edata \u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e    'id'\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e: \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e1\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e2\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e3\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e4\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e5\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e    'value'\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e: \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e10\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e20\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e15\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e25\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e30\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e]\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003eresult \u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e process_data\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003edata\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003eprint\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003ef\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e\"Analysis complete: \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e{\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003eresult\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e\"\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch3\u003eWith CSS example\u003c/h3\u003e\n\u003cdiv class=\"shiki-wrapper\"\u003e\u003cdiv class=\"shiki-header\"\u003e\u003cdiv class=\"shiki-title\"\u003eModern CSS Styling\u003c/div\u003e\u003cdiv class=\"shiki-language\"\u003eCSS\u003c/div\u003e\u003cdiv class=\"copy-button-placeholder\" data-code-id=\"code-block-1\"\u003e\u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"copy-button-placeholder\" data-code-id=\"code-block-1\"\u003e\u003c/div\u003e\u003cpre class=\"shiki shiki-themes theme-custom-light theme-custom-dark\" style=\"background-color:#f9f9f9;--shiki-dark-bg:#031030;color:#000000;--shiki-dark:#b3d8e5\" tabindex=\"0\" id=\"code-block-1\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D7BA7D;--shiki-dark:#D7BA7D\"\u003e:root\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e  --primary-color\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e#3b82f6\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e  --secondary-color\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e#8b5cf6\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e  --spacing-unit\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e1\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003erem\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e  --border-radius\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e0.5\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003erem\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D7BA7D;--shiki-dark:#D7BA7D\"\u003e.card\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e  background\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003elinear-gradient\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e135\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003edeg\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003evar\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e--primary-color\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003evar\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e--secondary-color\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e)\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e  padding\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003ecalc\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003evar\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e--spacing-unit\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e*\u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e 2\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e  border-radius\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003evar\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e--border-radius\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e  box-shadow\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e0\u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e 10\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003epx\u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e 30\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003epx\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e rgba\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e0\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e0\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e0\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e0.1\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e  transition\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e: transform \u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e0.3\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003es\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e ease\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D7BA7D;--shiki-dark:#D7BA7D\"\u003e.card:hover\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e  transform\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003etranslateY\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e-5\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003epx\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e  box-shadow\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e0\u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e 15\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003epx\u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e 40\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003epx\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e rgba\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e0\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e0\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e0\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e0.15\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e@container\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003emin-width: 768px\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D7BA7D;--shiki-dark:#D7BA7D\"\u003e  .card\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e    grid-template-columns\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003erepeat\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003eauto-fit\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003eminmax\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e250\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003epx\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e1\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003efr\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e)\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e  \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch3\u003eDiff Notation\u003c/h3\u003e\n\u003cp\u003eShow additions and deletions in code:\u003c/p\u003e\n\u003cdiv class=\"shiki-wrapper\"\u003e\u003cdiv class=\"shiki-header\"\u003e\u003cdiv class=\"shiki-title\"\u003eCode Changes\u003c/div\u003e\u003cdiv class=\"shiki-language\"\u003eDIFF\u003c/div\u003e\u003cdiv class=\"copy-button-placeholder\" data-code-id=\"code-block-1\"\u003e\u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"copy-button-placeholder\" data-code-id=\"code-block-1\"\u003e\u003c/div\u003e\u003cpre class=\"shiki shiki-themes theme-custom-light theme-custom-dark\" style=\"background-color:#f9f9f9;--shiki-dark-bg:#031030;color:#000000;--shiki-dark:#b3d8e5\" tabindex=\"0\" id=\"code-block-1\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003efunction calculateTotal\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003eitems\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e  let total = 0;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line diff remove\"\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e- for \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003elet i = 0; i \u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e items.length; i++\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line diff remove\"\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e-   total += items\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003ei\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e.price;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line diff remove\"\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e- \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line diff add\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e+ total = items.reduce\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e(\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003esum, item\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e\u003e\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e sum + item.price, 0\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e  return total;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch3\u003eLine Highlighting\u003c/h3\u003e\n\u003cp\u003eHighlight specific lines to draw attention:\u003c/p\u003e\n\u003cdiv class=\"shiki-wrapper\"\u003e\u003cdiv class=\"shiki-header\"\u003e\u003cdiv class=\"shiki-title\"\u003eImportant Lines\u003c/div\u003e\u003cdiv class=\"shiki-language\"\u003eJAVASCRIPT\u003c/div\u003e\u003cdiv class=\"copy-button-placeholder\" data-code-id=\"code-block-1\"\u003e\u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"copy-button-placeholder\" data-code-id=\"code-block-1\"\u003e\u003c/div\u003e\u003cpre class=\"shiki shiki-themes theme-custom-light theme-custom-dark\" style=\"background-color:#f9f9f9;--shiki-dark-bg:#031030;color:#000000;--shiki-dark:#b3d8e5\" tabindex=\"0\" id=\"code-block-1\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003econst\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e config\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e  apiUrl:\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e 'https://api.example.com'\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line highlighted\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e  timeout:\u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e 5000\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e,           \u003c/span\u003e\u003cspan style=\"color:#6A9955;--shiki-dark:#6A9955\"\u003e// These lines are highlighted\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line highlighted\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e  retryAttempts:\u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e 3\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e,        \u003c/span\u003e\u003cspan style=\"color:#6A9955;--shiki-dark:#6A9955\"\u003e// to show important config\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line highlighted\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e  enableLogging:\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e true\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e,     \u003c/span\u003e\u003cspan style=\"color:#6A9955;--shiki-dark:#6A9955\"\u003e// values\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e  headers:\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line highlighted\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e    'Content-Type'\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e 'application/json'\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e,  \u003c/span\u003e\u003cspan style=\"color:#6A9955;--shiki-dark:#6A9955\"\u003e// This line too!\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e  \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch3\u003eWord Highlighting\u003c/h3\u003e\n\u003cp\u003eHighlight specific words or patterns:\u003c/p\u003e\n\u003cdiv class=\"shiki-wrapper\"\u003e\u003cdiv class=\"shiki-header\"\u003e\u003cdiv class=\"shiki-title\"\u003eSecurity Considerations\u003c/div\u003e\u003cdiv class=\"shiki-language\"\u003eJAVASCRIPT\u003c/div\u003e\u003cdiv class=\"copy-button-placeholder\" data-code-id=\"code-block-1\"\u003e\u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"copy-button-placeholder\" data-code-id=\"code-block-1\"\u003e\u003c/div\u003e\u003cpre class=\"shiki shiki-themes theme-custom-light theme-custom-dark\" style=\"background-color:#f9f9f9;--shiki-dark-bg:#031030;color:#000000;--shiki-dark:#b3d8e5\" tabindex=\"0\" id=\"code-block-1\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003econst\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e \u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\" class=\"highlighted-word\"\u003epassword\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e \"secret123\"\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e; \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003econst\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e apiKey\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e process\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003eenv\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\" class=\"highlighted-word\"\u003eAPI_KEY\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e; \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003efunction\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e \u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\" class=\"highlighted-word\"\u003eauthenticate\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003euser\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003epass\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e{\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6A9955;--shiki-dark:#6A9955\"\u003e  // Never store \u003c/span\u003e\u003cspan style=\"color:#6A9955;--shiki-dark:#6A9955\" class=\"highlighted-word\"\u003epassword\u003c/span\u003e\u003cspan style=\"color:#6A9955;--shiki-dark:#6A9955\"\u003es in plain text\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003e  const\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e hashedPassword\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e hash\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003epass\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e  return\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e validateCredentials\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003euser\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003ehashedPassword\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch3\u003eFocus Lines\u003c/h3\u003e\n\u003cp\u003eFocus on specific sections while dimming others:\u003c/p\u003e\n\u003cdiv class=\"shiki-wrapper\"\u003e\u003cdiv class=\"shiki-header\"\u003e\u003cdiv class=\"shiki-title\"\u003eFocus Example\u003c/div\u003e\u003cdiv class=\"shiki-language\"\u003eJAVASCRIPT\u003c/div\u003e\u003cdiv class=\"copy-button-placeholder\" data-code-id=\"code-block-1\"\u003e\u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"copy-button-placeholder\" data-code-id=\"code-block-1\"\u003e\u003c/div\u003e\u003cpre class=\"shiki shiki-themes theme-custom-light theme-custom-dark has-focused\" style=\"background-color:#f9f9f9;--shiki-dark-bg:#031030;color:#000000;--shiki-dark:#b3d8e5\" tabindex=\"0\" id=\"code-block-1\"\u003e\u003ccode\u003e\n\u003cspan class=\"line focused\"\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003efunction\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e processUserData\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003euserData\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line focused\"\u003e\u003cspan style=\"color:#6A9955;--shiki-dark:#6A9955\"\u003e  // Validation\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line focused\"\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e  if\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003euserData\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e ||\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e !\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003euserData\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003eemail\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line focused\"\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e    throw\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e new\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e Error\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e'Invalid user data'\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e  \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6A9955;--shiki-dark:#6A9955\"\u003e  // This is the important part to focus on\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003e  const\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e normalizedEmail\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e userData\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003eemail\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003etoLowerCase\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e(\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003etrim\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e(\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003e  const\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e username\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e normalizedEmail\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003esplit\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e'@'\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e)\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e0\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6A9955;--shiki-dark:#6A9955\"\u003e  // Save to database\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e  return\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e saveUser\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e(\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e    ...\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003euserData\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e    email:\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e normalizedEmail\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e    username\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e  \u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e}\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch3\u003eError Level Annotations\u003c/h3\u003e\n\u003cp\u003eShow warnings and errors in code:\u003c/p\u003e\n\u003cdiv class=\"shiki-wrapper\"\u003e\u003cdiv class=\"shiki-header\"\u003e\u003cdiv class=\"shiki-title\"\u003eError Handling\u003c/div\u003e\u003cdiv class=\"shiki-language\"\u003eJAVASCRIPT\u003c/div\u003e\u003cdiv class=\"copy-button-placeholder\" data-code-id=\"code-block-1\"\u003e\u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"copy-button-placeholder\" data-code-id=\"code-block-1\"\u003e\u003c/div\u003e\u003cpre class=\"shiki shiki-themes theme-custom-light theme-custom-dark has-highlighted\" style=\"background-color:#f9f9f9;--shiki-dark-bg:#031030;color:#000000;--shiki-dark:#b3d8e5\" tabindex=\"0\" id=\"code-block-1\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003efunction\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e divideNumbers\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003ea\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003eb\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line highlighted error\"\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e  if\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003eb\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e ===\u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e 0\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e{\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line highlighted error\"\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e    throw\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e new\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e Error\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e'Division by zero!'\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e; \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e  \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line highlighted warning\"\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e  if\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003etypeof\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e a\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e !==\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e 'number'\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e ||\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e typeof\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e b\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e !==\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e 'number'\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e{\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line highlighted warning\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e    console\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003ewarn\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e'Non-numeric input detected'\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e; \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e  \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e  return\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e a\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e /\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e b\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch2\u003eLong Code with Horizontal Scrolling\u003c/h2\u003e\n\u003cp\u003eHere's an example with long lines to demonstrate the copy button staying visible:\u003c/p\u003e\n\u003cdiv class=\"shiki-wrapper\"\u003e\u003cdiv class=\"shiki-header\"\u003e\u003cdiv class=\"shiki-title\"\u003eLong Lines Example\u003c/div\u003e\u003cdiv class=\"shiki-language\"\u003eJAVASCRIPT\u003c/div\u003e\u003cdiv class=\"copy-button-placeholder\" data-code-id=\"code-block-1\"\u003e\u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"copy-button-placeholder\" data-code-id=\"code-block-1\"\u003e\u003c/div\u003e\u003cpre class=\"shiki shiki-themes theme-custom-light theme-custom-dark\" style=\"background-color:#f9f9f9;--shiki-dark-bg:#031030;color:#000000;--shiki-dark:#b3d8e5\" tabindex=\"0\" id=\"code-block-1\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003econst\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e veryLongConfigurationObject\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e{\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003eapiEndpoint:\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e \"https://api.example.com/v1/users\"\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003etimeout:\u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e 5000\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003eretryAttempts:\u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e 3\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003eheaders:\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e{\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e\"Content-Type\"\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e \"application/json\"\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e\"Authorization\"\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e \"Bearer token_goes_here\"\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003eoptions:\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e{\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003eenableCache:\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e true\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003ecacheTimeout:\u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e 3600\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003eenableLogging:\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e true\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003elogLevel:\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e \"debug\"\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003econst\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e anotherLongLine\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e \"This is a very long string that extends far beyond the typical viewport width to demonstrate how the syntax highlighting handles horizontal scrolling while keeping the copy button accessible and visible at all times.\"\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch2\u003eJSON Configuration (and no title)\u003c/h2\u003e\n\u003cdiv class=\"shiki-wrapper\"\u003e\u003cdiv class=\"shiki-language\"\u003eJSON\u003c/div\u003e\u003cdiv class=\"copy-button-placeholder\" data-code-id=\"code-block-1\"\u003e\u003c/div\u003e\u003cpre class=\"shiki shiki-themes theme-custom-light theme-custom-dark\" style=\"background-color:#f9f9f9;--shiki-dark-bg:#031030;color:#000000;--shiki-dark:#b3d8e5\" tabindex=\"0\" id=\"code-block-1\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e  \"name\"\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e\"shiki-demo\"\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e  \"version\"\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e\"1.0.0\"\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e  \"description\"\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e\"Showcasing Shiki syntax highlighting features\"\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e  \"themes\"\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e: \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e    \"light\"\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e\"custom-light\"\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e    \"dark\"\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e\"custom-dark\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e  \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e  \"transformers\"\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e: \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e[\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e    \"notationDiff\"\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e    \"notationHighlight\"\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e    \"notationWordHighlight\"\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e    \"notationFocus\"\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e    \"notationErrorLevel\"\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e    \"metaHighlight\"\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e    \"metaWordHighlight\"\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e    \"colorizedBrackets\"\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e    \"twoslash\"\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e    \"copyButton\"\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e    \"title\"\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e    \"languageBadge\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e  \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e]\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch2\u003eImplementation Details: What Changed\u003c/h2\u003e\n\u003ch3\u003e1. React-Based Copy Button with Dynamic Mounting\u003c/h3\u003e\n\u003cp\u003eReplaced the inline SVG copy button with a React component that gets dynamically mounted:\u003c/p\u003e\n\u003cdiv class=\"shiki-wrapper\"\u003e\u003cdiv class=\"shiki-header\"\u003e\u003cdiv class=\"shiki-title\"\u003ehooks/useCodeBlocks.tsx - Dynamic Copy Button Mounting\u003c/div\u003e\u003cdiv class=\"shiki-language\"\u003eTYPESCRIPT\u003c/div\u003e\u003cdiv class=\"copy-button-placeholder\" data-code-id=\"code-block-1\"\u003e\u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"copy-button-placeholder\" data-code-id=\"code-block-1\"\u003e\u003c/div\u003e\u003cpre class=\"shiki shiki-themes theme-custom-light theme-custom-dark\" style=\"background-color:#f9f9f9;--shiki-dark-bg:#031030;color:#000000;--shiki-dark:#b3d8e5\" tabindex=\"0\" id=\"code-block-1\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003e function\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e useCodeBlocks\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e(\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003e  const\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e rootsRef\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e useRef\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003eMap\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003eHTMLElement\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003eRoot\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e\u003e\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e\u003e\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003enew\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e Map\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e(\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e)\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003e  const\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e mountCopyButtons\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e useCallback\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e(\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e(\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003e\u003e\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003e    const\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e placeholders\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e document\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003equerySelectorAll\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e'.copy-button-placeholder'\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e    \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e    placeholders\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003eforEach\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e(\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003eplaceholder\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003e\u003e\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003e      const\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e element\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e placeholder\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e as\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e HTMLElement\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003e      const\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e codeId\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e element\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003egetAttribute\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e'data-code-id'\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e      \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003ecodeId\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e ||\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e rootsRef\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003ecurrent\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003ehas\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003eelement\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e)\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e      \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003e      const\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e root\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e createRoot\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003eelement\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e      root\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003erender\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003eCopyButton\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e codeId\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e=\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e{\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003ecodeId\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e /\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e\u003e\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e      rootsRef\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003ecurrent\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003eset\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003eelement\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003eroot\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e    \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e}\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e  \u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e[\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e]\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6A9955;--shiki-dark:#6A9955\"\u003e  // MutationObserver watches for new code blocks added dynamically\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6A9955;--shiki-dark:#6A9955\"\u003e  // ... observer setup code\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv class=\"shiki-wrapper\"\u003e\u003cdiv class=\"shiki-header\"\u003e\u003cdiv class=\"shiki-title\"\u003ecomponents/CopyButton.tsx - React Copy Component\u003c/div\u003e\u003cdiv class=\"shiki-language\"\u003eTSX\u003c/div\u003e\u003cdiv class=\"copy-button-placeholder\" data-code-id=\"code-block-1\"\u003e\u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"copy-button-placeholder\" data-code-id=\"code-block-1\"\u003e\u003c/div\u003e\u003cpre class=\"shiki shiki-themes theme-custom-light theme-custom-dark\" style=\"background-color:#f9f9f9;--shiki-dark-bg:#031030;color:#000000;--shiki-dark:#b3d8e5\" tabindex=\"0\" id=\"code-block-1\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e default\u003c/span\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003e function\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e CopyButton\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e(\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e{\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003ecodeId\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e CopyButtonProps\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003e  const\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003ecopied\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003esetCopied\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e useState\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003efalse\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003e  const\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e handleCopy\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003e async\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e(\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003e\u003e\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003e    const\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e codeElement\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e document\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003equerySelector\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e`#\u003c/span\u003e\u003cspan style=\"color:#999999;--shiki-dark:#999999\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003ecodeId\u003c/span\u003e\u003cspan style=\"color:#999999;--shiki-dark:#999999\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e code`\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003ecodeElement\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e    \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003e    const\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e code\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e codeElement\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003etextContent\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e ||\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e ''\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e    await\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e navigator\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003eclipboard\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003ewriteText\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003ecode\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e    \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e    setCopied\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003etrue\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e    setTimeout\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e(\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e(\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003e\u003e\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e setCopied\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003efalse\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e2000\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e  \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e  return\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e(\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999;--shiki-dark:#999999\"\u003e    \u003c/span\u003e\u003cspan style=\"color:#999999;--shiki-dark:#999999\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003ebutton\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e className\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e\"shiki-copy-button\"\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e onClick\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e=\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e{\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003ehandleCopy\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#999999;--shiki-dark:#999999\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999;--shiki-dark:#999999\"\u003e      \u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e{\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003ecopied\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e ?\u003c/span\u003e\u003cspan style=\"color:#999999;--shiki-dark:#999999\"\u003e \u003c/span\u003e\u003cspan style=\"color:#999999;--shiki-dark:#999999\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003eCheck\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e size\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e=\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e{\u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e16\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#999999;--shiki-dark:#999999\"\u003e /\u003c/span\u003e\u003cspan style=\"color:#999999;--shiki-dark:#999999\"\u003e\u003e\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e :\u003c/span\u003e\u003cspan style=\"color:#999999;--shiki-dark:#999999\"\u003e \u003c/span\u003e\u003cspan style=\"color:#999999;--shiki-dark:#999999\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003eCopy\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e size\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e=\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e{\u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e16\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#999999;--shiki-dark:#999999\"\u003e /\u003c/span\u003e\u003cspan style=\"color:#999999;--shiki-dark:#999999\"\u003e\u003e\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999;--shiki-dark:#999999\"\u003e    \u003c/span\u003e\u003cspan style=\"color:#999999;--shiki-dark:#999999\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#999999;--shiki-dark:#999999\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003ebutton\u003c/span\u003e\u003cspan style=\"color:#999999;--shiki-dark:#999999\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e  \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch3\u003e2. Custom Transformers for Enhanced Features\u003c/h3\u003e\n\u003cp\u003eCreated custom Shiki transformers to handle titles and diff lines:\u003c/p\u003e\n\u003cdiv class=\"shiki-wrapper\"\u003e\u003cdiv class=\"shiki-header\"\u003e\u003cdiv class=\"shiki-title\"\u003eutils.ts - Custom Title Transformer\u003c/div\u003e\u003cdiv class=\"shiki-language\"\u003eJAVASCRIPT\u003c/div\u003e\u003cdiv class=\"copy-button-placeholder\" data-code-id=\"code-block-1\"\u003e\u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"copy-button-placeholder\" data-code-id=\"code-block-1\"\u003e\u003c/div\u003e\u003cpre class=\"shiki shiki-themes theme-custom-light theme-custom-dark\" style=\"background-color:#f9f9f9;--shiki-dark-bg:#031030;color:#000000;--shiki-dark:#b3d8e5\" tabindex=\"0\" id=\"code-block-1\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003efunction\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e transformerTitle\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e(\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e  return\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e    name:\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e 'title'\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e    preprocess\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003ecode\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003eoptions\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6A9955;--shiki-dark:#6A9955\"\u003e      // Extract title from comments like: // [title: My Title]\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003ecode\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003eincludes\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e'[title:'\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e)\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e code\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e      \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003e      const\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e lines\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e code\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003esplit\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e'\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e'\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003e      const\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e firstLine\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e lines\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e0\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003e      const\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e titleStart\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e firstLine\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003eindexOf\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e'[title:'\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003e      const\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e titleEnd\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e firstLine\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003eindexOf\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e']'\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003etitleStart\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e      \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003etitleStart\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e !==\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e -\u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e1\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e \u0026#x26;\u0026#x26;\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e titleEnd\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e \u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e\u003e\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e titleStart\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003e        const\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e title\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e firstLine\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003eslice\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003etitleStart\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e +\u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e 7\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003etitleEnd\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003etrim\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e(\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e        options\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003emeta\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e{\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e...\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003eoptions\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003emeta\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003etitle\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e        return\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e lines\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003eslice\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e1\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003ejoin\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e'\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e'\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e; \u003c/span\u003e\u003cspan style=\"color:#6A9955;--shiki-dark:#6A9955\"\u003e// Remove title line from code\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e      \u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e      return\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e code\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e    \u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e  \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv class=\"shiki-wrapper\"\u003e\u003cdiv class=\"shiki-header\"\u003e\u003cdiv class=\"shiki-title\"\u003eutils.ts - Diff Lines Transformer\u003c/div\u003e\u003cdiv class=\"shiki-language\"\u003eJAVASCRIPT\u003c/div\u003e\u003cdiv class=\"copy-button-placeholder\" data-code-id=\"code-block-1\"\u003e\u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"copy-button-placeholder\" data-code-id=\"code-block-1\"\u003e\u003c/div\u003e\u003cpre class=\"shiki shiki-themes theme-custom-light theme-custom-dark\" style=\"background-color:#f9f9f9;--shiki-dark-bg:#031030;color:#000000;--shiki-dark:#b3d8e5\" tabindex=\"0\" id=\"code-block-1\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003efunction\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e transformerDiffLines\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e(\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e  return\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e    name:\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e 'diff-lines'\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e    code\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003enode\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e      node\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003echildren\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e?.\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003eforEach\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e(\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003eline\u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003e\u003e\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#569CD6;--shiki-dark:#569CD6\"\u003e        const\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e firstText\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003e getFirstText\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003eline\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003echildren\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"\u003e0\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e]\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e        \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e        if\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003efirstText\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003estartsWith\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e'+'\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e)\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6A9955;--shiki-dark:#6A9955\"\u003e          // Add classes for additions\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e          line\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003eproperties\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003eclass\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003epush\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e'diff'\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e'add'\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e        \u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003eelse\u003c/span\u003e\u003cspan style=\"color:#E194B5;--shiki-dark:#E194B5\"\u003e if\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003efirstText\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003estartsWith\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e'-'\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e)\u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e \u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6A9955;--shiki-dark:#6A9955\"\u003e          // Add classes for deletions  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e          line\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003eproperties\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003eclass\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#E2657E;--shiki-dark:#E2657E\"\u003epush\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e'diff'\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#007CF0;--shiki-dark:#007CF0\"\u003e'remove'\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e        \u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e      \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e}\u003c/span\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e    \u003c/span\u003e\u003cspan style=\"--shiki-dark:#179FFF;color:#179FFF\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e  \u003c/span\u003e\u003cspan style=\"--shiki-dark:#DA70D6;color:#DA70D6\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#000000;--shiki-dark:#B3D8E5\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"--shiki-dark:#FFD700;color:#FFD700\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch3\u003e3. Improved CSS Architecture\u003c/h3\u003e\n\u003cp\u003eRewrote the code block styles with:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eTable-based layout for proper line numbering\u003c/li\u003e\n\u003cli\u003eSticky positioning for line numbers during scroll\u003c/li\u003e\n\u003cli\u003eDark mode support with CSS custom properties\u003c/li\u003e\n\u003cli\u003eOptimized Sass using scalable variable system (\u003ccode\u003e$m-*\u003c/code\u003e sizing, \u003ccode\u003e$radius-*\u003c/code\u003e for borders)\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003e4. Giscus Theme \u0026#x26; Dynamic Import Improvements\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eSwitched from custom-hosted CSS to built-in Giscus themes (\u003ccode\u003edark\u003c/code\u003e/\u003ccode\u003elight\u003c/code\u003e)\u003c/li\u003e\n\u003cli\u003eReplaced lazy loading with Next.js dynamic imports for better SSR handling\u003c/li\u003e\n\u003cli\u003eAdded proper loading states and error boundaries\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003e^^Key Challenges and Lessons Learned^^\u003c/h2\u003e\n\u003cp\u003e^^Throughout this implementation, several challenges emerged that required creative solutions:^^\u003c/p\u003e\n\u003cp\u003e^^\u003cstrong\u003e1. Transformer Execution Order\u003c/strong\u003e - Understanding when each transformer hook executes was crucial. The \u003ccode\u003epreprocess()\u003c/code\u003e hook runs before tokenization, \u003ccode\u003ecode()\u003c/code\u003e during rendering, and \u003ccode\u003epre()\u003c/code\u003e after the code block is assembled. Getting data to flow between these stages required careful use of the options object and node properties.^^\u003c/p\u003e\n\u003cp\u003e^^\u003cstrong\u003e2. React Hydration Issues\u003c/strong\u003e - Initially, server-rendered copy buttons would fail to hydrate properly in Next.js. The solution was to use placeholders during SSR and dynamically mount React components client-side using a MutationObserver to detect new code blocks.^^\u003c/p\u003e\n\u003cp\u003e^^\u003cstrong\u003e3. Sticky Positioning in Tables\u003c/strong\u003e - Achieving sticky line numbers while maintaining proper code alignment required switching from a flex layout to a table-based layout. This allowed line numbers to remain visible during horizontal scrolling while the code content scrolls naturally.^^\u003c/p\u003e\n\u003cp\u003e^^\u003cstrong\u003e4. Dark Mode Background Overrides\u003c/strong\u003e - Shiki applies inline background colors from its themes, which can override CSS custom properties. The solution was using \u003ccode\u003e!important\u003c/code\u003e flags specifically scoped to dark mode contexts, ensuring the theme background is properly overridden.^^\u003c/p\u003e\n\u003cp\u003e^^\u003cstrong\u003e5. Copy Button State Management\u003c/strong\u003e - Managing the copied state across multiple code blocks required generating unique IDs for each block and ensuring the React components properly tracked which block was just copied from. The \u003ccode\u003edata-code-id\u003c/code\u003e attribute system solved this cleanly.^^\u003c/p\u003e\n\u003ch2\u003eConclusion\u003c/h2\u003e\n\u003cp\u003eThe enhanced Shiki implementation now provides:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003eReact-Based Interactivity\u003c/strong\u003e - Dynamic copy button mounting with proper state management\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eCustom Transformers\u003c/strong\u003e - Title extraction, diff highlighting, and tooltip support\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eImproved CSS Architecture\u003c/strong\u003e - Table-based layout for proper line numbering and sticky positioning\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eDark Mode Support\u003c/strong\u003e - Seamless theme switching with custom color overrides\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003ePerformance Optimizations\u003c/strong\u003e - Efficient dynamic imports and debounced DOM observations\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e^^These improvements make code blocks more readable, functional, and interactive across all devices and themes. The combination of Shiki's powerful syntax highlighting engine with custom transformers and React-based interactivity creates a robust solution that handles everything from simple code snippets to complex examples with annotations, highlighting, and diff notation.^^\u003c/p\u003e\n\u003cp\u003e^^For developers looking to implement similar features, the key takeaways are:^^\n^^- Invest time in understanding Shiki's transformer lifecycle - it's more flexible than it initially appears^^\n^^- Use React's dynamic mounting capabilities for interactive elements that need state management^^\n^^- Don't fight against inline styles - work with them using scoped overrides when necessary^^\n^^- Test thoroughly across SSR and CSR scenarios to catch hydration mismatches early^^\u003c/p\u003e\n\u003cp\u003e^^The result is a code highlighting system that not only looks great but also provides the interactive features modern technical documentation demands.^^\u003c/p\u003e\n\u003cp\u003eThis comprehensive implementation ensures that code snippets are not just functional but also beautiful and user-friendly across all devices and themes, with optimized Sass using a scalable variable system for maintainability.\u003c/p\u003e","slug":"shiki-syntax"},"__N_SSG":true},"page":"/[slug]","query":{"slug":"shiki-syntax"},"buildId":"nA5pgTje0kHS8KDYEmMvl","assetPrefix":".","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>