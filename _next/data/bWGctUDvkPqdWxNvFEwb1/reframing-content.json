{"pageProps":{"frontmatter":{"title":"Reframing content responsively with Reframe.js","meta":"Reframing content, one of the most important things to present well on a content site is embedded content.","categories":["code","js","javascript"],"date":"September 19, 2016","path":"/reframing-content"},"content":"\nThe most meaningful part of the webpage, the content, can be a largely unknown thing. Authors create content in one place & expect it to render well in another. Embedded content adds another level of complexity to this process.\n\nEmbedded content, like videos, images, podcasts & tweets often do not translate well to a fluid webpage - so we need to reframe them. This is what [Reframe.js](https://dollarshaveclub.github.io/reframe.js/) does. It wraps embedded content in an [intrinsic ratio](http://alistapart.com/article/creating-intrinsic-ratios-for-video) of the original embed but with fluid sizing so that the embedded content looks great at any size.\n\n<p data-height=\"380\" data-theme-id=\"0\" data-slug-hash=\"qaaGYV\" data-default-tab=\"result\" data-user=\"yowainwright\" data-embed-version=\"2\" class=\"codepen\">See the Pen <a href=\"http://codepen.io/yowainwright/pen/qaaGYV/\">Intrinsic Ratio Animation</a> by Jeff Wainwright (<a href=\"http://codepen.io/yowainwright\">@yowainwright</a>) on <a href=\"http://codepen.io\">CodePen</a>.</p>\n<script async src=\"//assets.codepen.io/assets/embed/ei.js\"></script>\n\n## Why Reframe.js?\n\nPrevious to writing this plugin, I used [FitVids](http://fitvidsjs.com/). FitVids is a great plugin for solving reframing videos. It's written by 2 of my idols, [Chris Coyier](http://chriscoyier.net/) & [Dave Ruppert](http://daverupert.com/). Fitvids _takes a chance_ that most of your content will be 1 of 5 `selectors`. If those assumptions are correct (& if you're using jQuery) - FitVids is golden. If not, there might need to be little extra code on top of the little extra code added that assumes your embedded content will be 1 of 5 `selectors`. The reason that Reframe.js was originally made was because [jQuery](http://jquery.com/) was not being used on a new product at [DSC](http://dollarshaveclub.com).\n\nReframe.js also:\n1. doesn't assume your reframing just videos (by name at least),\n2. offers a css mixin rather than inlining css which can make your dom (html) cleaner\n3. & offers jQuery plugin that is written in such a way that if unused - it can be shaken out with [Tree shaking](https://medium.com/@Rich_Harris/tree-shaking-versus-dead-code-elimination-d3765df85c80#.ccnp22e5f).\nThese things make the code lighter initially.\n\n## Options\n\nThe one option supported by Reframe.js is the ability to add your own css class instead of the default css class `js-reframe`. This is so that the end result of using the library on a webpage is minimal - just 1 inline style added (for the intersic ratio).\n\nReframe.js's simplicity in both language & options is meant to make the plugin easy to understand & easy to write code to support your product's end goal.\n\n## Plugin Breakdown\n\n**CSS (aspect ratio)**\n\nIn this sass mixin, the default aspect ratio is 16:9 but we can override that to make the reframe a perfect ratio of the embed's original size.\n\n```css\n\n@mixin reframe($el: iframe, $paddingTop: 56.25%){\n  padding-top: $paddingTop;\n  position: relative;\n  width: 100%;\n  #{$el} {\n    height: 100%;\n    left: 0;\n    position: absolute;\n    top: 0;\n    width: 100%;\n  }\n}\n\n```\n\n**JavaScript**\n\nWrap a selected element in a `div`.\n\n```javascript\n\nconst frame = element // frame is the elmeent to be wrapped\nconst div = document.createElement('div');\nframe.parentNode.insertBefore(div, frame);\nframe.parentNode.removeChild(frame);\ndiv.appendChild(frame);\n```\n\nAdd padding to create an intrinsic ratio.\n\n```javascript\n\n// where the frame is the element & the div is the added wrapper element\nconst height = frame.offsetHeight;\nconst width = frame.offsetWidth;\nconst padding = height / width * 100;\ndiv.style.paddingTop = padding + '%';\n\n```\n\nMake a plugin for jQuery or [Zepto](http://zeptojs.com/).\n\n```javascript\n\nif (window.$) {\n  window.$.fn.extend({\n    reframe: function reframeFunc(cName) {\n      return reframe(this, cName);\n    }\n  });\n}\n\n```\n\nAdd a check to the top of the plugin which allows us to select the element to reframe with jquery _or_ plain js (Kudos to [Jacob Kelley](http://jakiestfu.com/) here).\n\n```javascript\n\nlet frames = typeof target === 'string' ? document.querySelectorAll(target) : target;\nif (!('length' in frames)) {\n  frames = [frames];\n}\n\n```\n\nHere's the code you write.\n\n```javascript\n\nreframe('selector');\n\n```\n\n<p data-height=\"380\" data-theme-id=\"0\" data-slug-hash=\"Gjjbak\" data-default-tab=\"css,result\" data-user=\"yowainwright\" data-embed-version=\"2\" class=\"codepen\">See the Pen <a href=\"http://codepen.io/yowainwright/pen/Gjjbak/\">Reframe.js jQuery Demo</a> by Jeff Wainwright (<a href=\"http://codepen.io/yowainwright\">@yowainwright</a>) on <a href=\"http://codepen.io\">CodePen</a>.</p>\n<script async src=\"//assets.codepen.io/assets/embed/ei.js\"></script>\n\n## To Dos\n\nCurrently, I'm playing with the idea of removing the default padding of the ratio (56.25%) that's in the `css` because it is overwritten every time the plugin is called.\nAlso, I think I will be adding a docs folder for using the plugin & specific use cases that might come up.\n\n## Summary\n\nOne of the fun challenges when writing code for content is to support creativity in a controlled way. Reframe.js is a great solve for making embedded content look great on your website. Initially, we didn't know if we would be using jQuery for our product at [DSC](https://www.dollarshaveclub.com/) so [FitVids](http://fitvidsjs.com/) was out of the question - which led me down the path of writing some new code. The end result was Reframe.js. Hope it works well for you if you use it.\n\nI plan on writing more lightweight plugins to solve common content problems in the future. If you have questions or ideas in regards to [Reframe.js](https://github.com/dollarshaveclub/reframe.js) please contact me - links below.\n","slug":"reframing-content"},"__N_SSG":true}