{"pageProps":{"frontmatter":{"title":"A-ha Moments Writing Simple JavaScript Plugins","meta":"Moments writing JavaScript Plugins","categories":["code","javascript"],"date":"March 9, 2017","path":"/making-a-js-plugin"},"content":"<p>I've made a few small JavaScript Open Source plugins‚Äî<a href=\"https://dollarshaveclub.github.io/reframe.js/\">reframe.js</a>, <a href=\"https://dollarshaveclub.github.io/shave/\">shave</a> and, recently <a href=\"https://github.com/dollarshaveclub/scrolldir\">scrolldir</a>(built off of <a href=\"https://github.com/pwfisher\">Patrick Fisher's</a> <a href=\"https://github.com/pwfisher/scroll-intent.js\">scroll-intent</a>). While making them, I've had a few <em>a-ha</em> moments.</p>\n<h2>A-ha Moments üí≠</h2>\n<p><strong>Plugins should be simple.</strong> Their functionality should be all that matters. Making them as useable as possible is key.</p>\n<p><strong>Open source and 'Plugins'</strong> are loosely defined in the Open Source community‚Äîwhich I hope will change. Here's how I define <a href=\"https://jeffry.in/4-categories-js-projects/\">Plugins</a> within the JavaScript ecosystem. There was heavy debate, even with my friends about that post‚Äîwhich I think pointed to the fact that <em>plugins are loosely defined</em>.</p>\n<h2>Plugins Should Be Simple üíÅ</h2>\n<p>JavaScript plugins should be simple! It should be easy to setup plugins to do the thing that they are supposed to do. Between downloading and integration, plugins should take only several minutes to understand, implement and try out.</p>\n<p>A simple plugin works within the functionality of larger JavaScript ecosystems. Featurization of a plugin should not extend far beyond the problem that the plugin solves and should probably just focus it's usability within a larger ecosystem‚Äînot extended options.</p>\n<p>In example, there is a current gap between thousands of awesome jQuery Plugins and the way that people are writing code today. Now people are re-writing jQuery Plugins to be Plugins for Frameworks, like React and Ember. In other words, with the rapidness that JavaScript changes, plugins that are built for a Framework or Library can be a very hard thing for the community to keep up with. Plugins offer true utility when they can work and be used across other JavaScript projects with minimal effort.</p>\n<p>To accomplish this with the plugins I've worked on, I try to write them in as plain of JavaScript as possible and try to offer the ability for other JavaScript projects to easily integrate with them.</p>\n<p>With these few lines of code, I've allowed for jQuery and Zepto to be used for Reframe.js and Shave.</p>\n<pre class=\"language-javascript\"><code class=\"language-javaScript code-highlight\"><span class=\"code-line\">\n</span><span class=\"code-line\"><span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> <span class=\"token dom variable\">window</span> <span class=\"token operator\">!==</span> <span class=\"token string\">'undefined'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n</span><span class=\"code-line\">  <span class=\"token keyword\">const</span> plugin <span class=\"token operator\">=</span> <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">$</span> <span class=\"token operator\">||</span> <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">jQuery</span> <span class=\"token operator\">||</span> <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\"><span class=\"token maybe-class-name\">Zepto</span></span><span class=\"token punctuation\">;</span>\n</span><span class=\"code-line\">  <span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span>plugin<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n</span><span class=\"code-line\">    plugin<span class=\"token punctuation\">.</span><span class=\"token property-access\">fn</span><span class=\"token punctuation\">.</span><span class=\"token method-variable function-variable method function property-access\">shave</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token function\">shavePlugin</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">maxHeight<span class=\"token punctuation\">,</span> opts</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n</span><span class=\"code-line\">      <span class=\"token function\">shave</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> maxHeight<span class=\"token punctuation\">,</span> opts<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</span><span class=\"code-line\">      <span class=\"token keyword control-flow\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span>\n</span><span class=\"code-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n</span><span class=\"code-line\">  <span class=\"token punctuation\">}</span>\n</span><span class=\"code-line\"><span class=\"token punctuation\">}</span>\n</span><span class=\"code-line\">\n</span></code></pre>\n<p>A really cool thing about writing code this way is that all of the code be tree shaken if unneeded. As JavaScript Services like Webpack and Rollup become more advanced Plugins can be more modifiable to serve the user of the plugin.</p>\n<h2>Functionality Is What Matters üìà</h2>\n<p>A plugin's users should be able to understand its code but trust that it works. Featurization should not extend far beyond the problem that the plugin solves.</p>\n<p>To understand this concept, I think of <a href=\"http://shouldiuseacarousel.com/\">carousels</a>. Carousel's whether hot or not are still implemented by many companies. When looking for a carousel, it is very easy to find carousel plugins that offer extensive tooling. It's cool to go through their demo pages but how much is each user going to use all of the carousel options? If the user cannot tree shake the unneeded options then they are forced to add code to support features that they do not use. This should be improved!</p>\n<p>So, when making or looking for plugins, I suggest trying to support a simple function and making that function's options support usability of that function rather then features that may not be needed. If you like to offer featuring options, it should be important to make sure that unused features can be removed or unincluded by treeshaking or in a build step of the plugin.</p>\n<h2>Plugins Should Be Usable üõ†</h2>\n<p>Users of a JavaScript plugin should be able to require it, wrap it and treeshake it to make it truly only do what it is supposed to do! When making plugins, focus should on the extension of it rather then its options.</p>\n<p>When providing options, I often use options as a way to remove any trace of the plugin itself. From there, I may try to provide ways to make the plugin extendable. If the extension of an extendable bit of code reaches too far‚Äîit makes sense to write another plugin. This helps with the plugin's simplicity and functionality.</p>\n<h2>Why make small plugins?</h2>\n<p>I've been making small plugins to support larger JavaScript projects or for simple use. I look for opportunities to minimize my code by seeing if I can simplify what's out there or if I find a great jQuery plugin and simplify it with ES6.</p>\n<h2>In Conclusion, Make Plugins! üöÄ</h2>\n<p>In conclusion, I try to make plugins. Maybe at some point I'll discover a reason to make a framework or library but for right now, plugins that consist of a few simple functions are very usable and extendable. I'm learning a lot for how I can build plugins to be smaller and more usable.</p>","slug":"making-a-js-plugin"},"__N_SSG":true}