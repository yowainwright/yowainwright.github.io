{"pageProps":{"frontmatter":{"title":"Creating beautiful layouts by setting element widths with calc","meta":"Use css calc values to set the width of elements within content blocks & create beautiful layouts, for devices especially","categories":["code","css","sass"],"date":"July 31, 2016","path":"/css-pretty-widths-with-calc"},"content":"<p>I used to (&#x26; I'm not the only one) write css margins properties on containers of html elements to contain their widths on small viewports. If you're not aware, <em>container</em> is technical term when talking about html &#x26; css that is used to describe an html element that \"contains\" other html elements. I try to avoid the pattern (of containing elements) by placing a <code>max width</code> on individual elements within a content area. In this post I'll describe in detail what I used to do, the solution I used more recently &#x26; what I'm doing now.</p>\n<p>First, to go into more detail if I've already confused you <em>(sorry)</em>, I'll more clearly describe what I see as the problem. When creating content blocks for webpages, widths are set so that the reader line length doesn't get to long. For smaller browser views, like on mobile devices, space to the left &#x26; right of content areas are set so that text doesn't extend the full width of the browser width or, worse yet - extend out of the browser so that the text can't be read.</p>\n<blockquote>\n<p>When creating content blocks for webpages, widths are set so that the reader line length doesn't get to long. For smaller browser views, like on mobile devices, space to the left &#x26; right of content areas are set so that text doesn't extend the full width of the browser</p>\n</blockquote>\n<h2>The 3 approaches</h2>\n<ul>\n<li>\n<p>Using containers to set the width of content.</p>\n</li>\n<li>\n<p>Setting margins on elements within a content area.</p>\n</li>\n<li>\n<p>Setting the margins once &#x26; setting elements widths as desired</p>\n</li>\n</ul>\n<h2>The old way, using containers to set the width of content</h2>\n<pre class=\"language-css\"><code class=\"language-css code-highlight\"><span class=\"code-line\">\t// Old way\n</span><span class=\"code-line\">\t// don't <span class=\"token selector\">worry about the margins on content elements\n</span></span><span class=\"code-line\"><span class=\"token selector\">\tp</span> <span class=\"token punctuation\">{</span>\n</span><span class=\"code-line\">\t\t// Note\n</span><span class=\"code-line\">\t\t// there is no width set\n</span><span class=\"code-line\">\t\t<span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n</span><span class=\"code-line\">\t<span class=\"token punctuation\">}</span>\n</span><span class=\"code-line\">\t<span class=\"token selector\">// set margins to the left &#x26; right of the wrapper element\n</span></span><span class=\"code-line\"><span class=\"token selector\">\t<span class=\"token class\">.container</span></span> <span class=\"token punctuation\">{</span>\n</span><span class=\"code-line\">\t\t// margins are set in this example on the left<span class=\"token punctuation\">,</span> right<span class=\"token punctuation\">,</span> top &#x26; bottom\n</span><span class=\"code-line\">\t\t// max width is set here too\n</span><span class=\"code-line\">\t\t<span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token unit\">rem</span><span class=\"token punctuation\">;</span>\n</span><span class=\"code-line\">\t\t<span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">50</span><span class=\"token unit\">rem</span><span class=\"token punctuation\">;</span>\n</span><span class=\"code-line\">\t<span class=\"token punctuation\">}</span>\n</span><span class=\"code-line\">\t<span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span><span class=\"token property\">min-width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">50</span><span class=\"token unit\">rem</span><span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span>\n</span><span class=\"code-line\">\t\t<span class=\"token selector\">// center the wrapper if the width is greater than 50rem\n</span></span><span class=\"code-line\"><span class=\"token selector\">\t\t<span class=\"token class\">.container</span></span> <span class=\"token punctuation\">{</span>\n</span><span class=\"code-line\">\t\t\t<span class=\"token property\">margin-left</span><span class=\"token punctuation\">:</span> auto<span class=\"token punctuation\">;</span>\n</span><span class=\"code-line\">\t\t\t<span class=\"token property\">margin-right</span><span class=\"token punctuation\">:</span> auto<span class=\"token punctuation\">;</span>\n</span><span class=\"code-line\">\t\t<span class=\"token punctuation\">}</span>\n</span><span class=\"code-line\">\t<span class=\"token punctuation\">}</span>\n</span></code></pre>\n<p>In this method of setting margins &#x26; widths on content, a container element is used to set the <code>width</code> of the content &#x26; the margins that are set on the left &#x26; right of the content. The positives of this approach are that content width &#x26; margins can be set on one wrapper element. The negatives with this approach are - what if you have an image, or another element that you'd like to have a different width - you might set a negative margin &#x26; exaggerate the width like, <code>margin: 0 -1rem 0 1rem, width: calc(100% + 2rem);</code>. This is already bad &#x26; then what if the containing element has a <code>oveflow: hidden</code> property set. Ugh, you're going to get into crazy town &#x26; fast.</p>\n<h2>The <em>last current</em> way, setting different margins on different content elements</h2>\n<pre class=\"language-css\"><code class=\"language-css code-highlight\"><span class=\"code-line\">\t<span class=\"token selector\">// The last current way\n</span></span><span class=\"code-line\"><span class=\"token selector\">\tp</span> <span class=\"token punctuation\">{</span>\n</span><span class=\"code-line\">\t\t<span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token unit\">rem</span> <span class=\"token number\">1</span><span class=\"token unit\">rem</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n</span><span class=\"code-line\">\t<span class=\"token punctuation\">}</span>\n</span><span class=\"code-line\">\t<span class=\"token selector\">img</span> <span class=\"token punctuation\">{</span>\n</span><span class=\"code-line\">\t\t<span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token unit\">rem</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n</span><span class=\"code-line\">\t<span class=\"token punctuation\">}</span>\n</span><span class=\"code-line\">\t<span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span><span class=\"token property\">min-width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">750</span><span class=\"token unit\">px</span><span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span>\n</span><span class=\"code-line\">\t\t<span class=\"token selector\">p<span class=\"token punctuation\">,</span>\n</span></span><span class=\"code-line\"><span class=\"token selector\">\t\timg</span> <span class=\"token punctuation\">{</span>\n</span><span class=\"code-line\">\t\t\t<span class=\"token property\">margin-left</span><span class=\"token punctuation\">:</span> auto<span class=\"token punctuation\">;</span>\n</span><span class=\"code-line\">\t\t\t<span class=\"token property\">margin-right</span><span class=\"token punctuation\">:</span> auto<span class=\"token punctuation\">;</span>\n</span><span class=\"code-line\">\t\t<span class=\"token punctuation\">}</span>\n</span><span class=\"code-line\">\t<span class=\"token punctuation\">}</span>\n</span><span class=\"code-line\">\t<span class=\"token selector\">// set margins to the left &#x26; right of the wrapper element\n</span></span><span class=\"code-line\"><span class=\"token selector\">\t<span class=\"token class\">.container</span></span> <span class=\"token punctuation\">{</span>\n</span><span class=\"code-line\">\t\t// no margins in this example on the left<span class=\"token punctuation\">,</span> right<span class=\"token punctuation\">,</span> top &#x26; bottom\n</span><span class=\"code-line\">\t\t// no max width set on this example\n</span><span class=\"code-line\">\t<span class=\"token punctuation\">}</span>\n</span></code></pre>\n<p>In this method, a container element plays no role in setting the width of content within a viewport. Elements within a content block are contained by margins &#x26; max widths. Max widths may or may not be set on elements but this method often requires the use 2 margin rules on different viewports &#x26; setting a width or max width on larger viewports. The margins will almost always go something like be <code>1rem</code> to the <em>left</em> &#x26; <em>right</em> on small viewports but be set to <code>auto</code> on large viewports. With this approach there is almost always that in between moment where to content gets really wide or is positioning on the left of browser because the left &#x26; right margins haven't been set to <code>auto</code> yet.</p>\n<h2>The <em>current</em> current way, setting the margins once &#x26; setting elements widths as desired</h2>\n<pre class=\"language-css\"><code class=\"language-css code-highlight\"><span class=\"code-line\">\t<span class=\"token selector\">// The new new way\n</span></span><span class=\"code-line\"><span class=\"token selector\">\tp<span class=\"token punctuation\">,</span>\n</span></span><span class=\"code-line\"><span class=\"token selector\">\timg</span> <span class=\"token punctuation\">{</span>\n</span><span class=\"code-line\">\t\t<span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token unit\">rem</span> auto <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n</span><span class=\"code-line\">\t\t<span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span> <span class=\"token function\">calc</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token unit\">%</span> <span class=\"token operator\">-</span> <span class=\"token number\">2</span><span class=\"token unit\">rem</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</span><span class=\"code-line\">\t<span class=\"token punctuation\">}</span>\n</span><span class=\"code-line\">\t<span class=\"token selector\">img</span> <span class=\"token punctuation\">{</span>\n</span><span class=\"code-line\">\t\t<span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token unit\">rem</span>  auto <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n</span><span class=\"code-line\">\t\t<span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">100</span><span class=\"token unit\">%</span> <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span>\n</span><span class=\"code-line\">\t<span class=\"token punctuation\">}</span>\n</span><span class=\"code-line\">\t<span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span><span class=\"token property\">min-width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">750</span><span class=\"token unit\">px</span><span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span>\n</span><span class=\"code-line\">\t\t<span class=\"token selector\">p</span> <span class=\"token punctuation\">{</span>\n</span><span class=\"code-line\">\t\t\t<span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">50</span><span class=\"token unit\">rem</span><span class=\"token punctuation\">;</span>\n</span><span class=\"code-line\">\t\t<span class=\"token punctuation\">}</span>\n</span><span class=\"code-line\">\t<span class=\"token punctuation\">}</span>\n</span><span class=\"code-line\">\t<span class=\"token selector\">// set margins to the left &#x26; right of the wrapper element\n</span></span><span class=\"code-line\"><span class=\"token selector\">\t<span class=\"token class\">.container</span></span> <span class=\"token punctuation\">{</span>\n</span><span class=\"code-line\">\t\t// no margins in this example on the left<span class=\"token punctuation\">,</span> right<span class=\"token punctuation\">,</span> top &#x26; bottom\n</span><span class=\"code-line\">\t\t// no max width set on this example\n</span><span class=\"code-line\">\t<span class=\"token punctuation\">}</span>\n</span></code></pre>\n<p>Finally, my preferred approach is to set the margins of properties only once &#x26; resetting the preferred width of elements based on the viewport size. I do this with calc. It works great. So for a mobile view I have the width set to <code>calc(100% - 2rem)</code> which tells the browser make this element 100% of the viewport width with a margin of 1 on either side. You'll find in this approach that the content is always centered &#x26; that elements with of 100% can be centered as well.</p>\n<p>I hope you've found this post to be informative. Please comment below if you disagree, feel I could've been more clear or have other opinions.</p>\n<p>~Thanks</p>","slug":"css-pretty-widths-with-calc"},"__N_SSG":true}