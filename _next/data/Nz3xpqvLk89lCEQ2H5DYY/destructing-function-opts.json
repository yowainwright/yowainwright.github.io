{"pageProps":{"frontmatter":{"title":"Using ES6 Function Destructuring with JavaScript Plugin Options","meta":"This post explains how to use ES6 function destructuring for more readable JavaScript Plugin Options.","categories":["html","code","javascript"],"date":"March 12, 2017","path":"/destructing-function-opts"},"content":"<p>Open source plugin code can become confusing. After writing a few open source plugins, I've realized that readability is very important to get help and make code better. One area where readability becomes confusing is options code. In this short post, I will go over options code in JavaScript Plugins and how it can be improved.</p>\n<h2 id=\"what-are-options\" class=\"content-header\">What are options?<a class=\"heading-icon-placeholder\" aria-label=\"Link to section\" href=\"#what-are-options\"></a></h2>\n<blockquote>\n<p>Options, in JavaScript, are arguments passed in a function to replace default properties values.</p>\n</blockquote>\n<p>Options, in JavaScript, are arguments passed in a function to replace default properties values. In example, sometimes a plugin will have a default CSS class that it is associated with. Plugins will often allow users to change this default CSS class.</p>\n<p>Here an example of how options look in JavaScript from ES5:</p>\n<pre><code class=\"language-javaScript\">function someFunction(opts) {\n  var defaults = {\n    el: document.documentElement,\n    win: window,\n    attribute: 'data-some-attr'\n  };\n  var el = opts &#x26;&#x26; opts.el || defaults.el;\n  var win = opts &#x26;&#x26; opts.win || defaults.win;\n  var attribute = opts &#x26;&#x26; opts.attribute || defaults.attribute;\n  // for exampe perposes\n  return console.log({\n    element: el,\n    document: win,\n    attr: attribute\n  });\n};\n</code></pre>\n<p>And here's how it can be changed when it is initiated:</p>\n<pre><code class=\"language-javaScript\">someFunction({attribute: 'data-attr'});\n</code></pre>\n<p>The <em>log</em> will now look something like:</p>\n<pre><code class=\"language-javaScript\">  Object: attr: \"data-attr\", document: Window, element: html\n</code></pre>\n<h2 id=\"defined-options-is-confusing\" class=\"content-header\">Defined Options Is Confusing<a class=\"heading-icon-placeholder\" aria-label=\"Link to section\" href=\"#defined-options-is-confusing\"></a></h2>\n<p>The <code>options</code> code above is confusing! I mean, what the heck is going on here?</p>\n<pre><code class=\"language-javaScript\">var el = opts &#x26;&#x26; opts.el || defaults.el;\n</code></pre>\n<p>This code needs an <code>el</code> property. It says, defines the <code>el</code> property from <code>opts</code> (passed in from a function) or get the default <code>el</code> value. That's a lot of work to make sure that a property has a value.</p>\n<h2 id=\"option-readability-can-be-improved-with-es6\" class=\"content-header\">Option Readability Can Be Improved With ES6<a class=\"heading-icon-placeholder\" aria-label=\"Link to section\" href=\"#option-readability-can-be-improved-with-es6\"></a></h2>\n<p>ES6, with function destructuring, allows us to make options code more readable.</p>\n<p>With ES6, we can write this:</p>\n<pre><code class=\"language-javaScript\">function someFunction({\n  el = document.documentElement,\n  win = window,\n  attribute = 'data-some-attr' } = {}) {\n  return console.log({\n    element: el,\n    document: win,\n    attr: attribute\n  });\n};\n</code></pre>\n<p>And then add any custom opts with:</p>\n<pre><code class=\"language-javaScript\">someFunction({attribute: 'data-attr'});\n</code></pre>\n<p>This trims down the reference to a property value to 2 times versus 3!</p>\n<h2 id=\"conclusion\" class=\"content-header\">Conclusion<a class=\"heading-icon-placeholder\" aria-label=\"Link to section\" href=\"#conclusion\"></a></h2>\n<p>With ES6 function destructuring, options code is much cleaner and easier to read. As a result, Open Source Plugins that use this feature are easier to improve and understand.</p>","slug":"destructing-function-opts"},"__N_SSG":true}