{"pageProps":{"frontmatter":{"title":"Reframing content responsively with Reframe.js","meta":"Reframing content, one of the most important things to present well on a content site is embedded content.","categories":["code","js","javascript"],"date":"September 19, 2016","path":"/reframing-content"},"content":"<p>The most meaningful part of the webpage, the content, can be a largely unknown thing. Authors create content in one place &#x26; expect it to render well in another. Embedded content adds another level of complexity to this process.</p>\n<p>Embedded content, like videos, images, podcasts &#x26; tweets often do not translate well to a fluid webpage - so we need to reframe them. This is what <a href=\"https://dollarshaveclub.github.io/reframe.js/\">Reframe.js</a> does. It wraps embedded content in an <a href=\"http://alistapart.com/article/creating-intrinsic-ratios-for-video\">intrinsic ratio</a> of the original embed but with fluid sizing so that the embedded content looks great at any size.</p>\n<h2>Why Reframe.js?</h2>\n<p>Previous to writing this plugin, I used <a href=\"http://fitvidsjs.com/\">FitVids</a>. FitVids is a great plugin for solving reframing videos. It's written by 2 of my idols, <a href=\"http://chriscoyier.net/\">Chris Coyier</a> &#x26; <a href=\"http://daverupert.com/\">Dave Ruppert</a>. Fitvids <em>takes a chance</em> that most of your content will be 1 of 5 <code>selectors</code>. If those assumptions are correct (&#x26; if you're using jQuery) - FitVids is golden. If not, there might need to be little extra code on top of the little extra code added that assumes your embedded content will be 1 of 5 <code>selectors</code>. The reason that Reframe.js was originally made was because <a href=\"http://jquery.com/\">jQuery</a> was not being used on a new product at <a href=\"http://dollarshaveclub.com\">DSC</a>.</p>\n<p>Reframe.js also:</p>\n<ol>\n<li>doesn't assume your reframing just videos (by name at least),</li>\n<li>offers a css mixin rather than inlining css which can make your dom (html) cleaner</li>\n<li>&#x26; offers jQuery plugin that is written in such a way that if unused - it can be shaken out with <a href=\"https://medium.com/@Rich_Harris/tree-shaking-versus-dead-code-elimination-d3765df85c80#.ccnp22e5f\">Tree shaking</a>.\nThese things make the code lighter initially.</li>\n</ol>\n<h2>Options</h2>\n<p>The one option supported by Reframe.js is the ability to add your own css class instead of the default css class <code>js-reframe</code>. This is so that the end result of using the library on a webpage is minimal - just 1 inline style added (for the intersic ratio).</p>\n<p>Reframe.js's simplicity in both language &#x26; options is meant to make the plugin easy to understand &#x26; easy to write code to support your product's end goal.</p>\n<h2>Plugin Breakdown</h2>\n<p><strong>CSS (aspect ratio)</strong></p>\n<p>In this sass mixin, the default aspect ratio is 16:9 but we can override that to make the reframe a perfect ratio of the embed's original size.</p>\n<pre class=\"shiki shiki-themes theme-custom-light theme-custom-dark\" style=\"background-color:#f9f9f9;--shiki-dark-bg:#031030;color:#000000;--shiki-dark:#b3d8e5\" tabindex=\"0\"><code><span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E194B5;--shiki-dark:#E194B5\">@mixin</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\"> reframe</span><span style=\"--shiki-dark:#FFD700;color:#FFD700\">(</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">$el: iframe, $paddingTop: 56.25%</span><span style=\"--shiki-dark:#FFD700;color:#FFD700\">)</span><span style=\"--shiki-dark:#FFD700;color:#FFD700\">{</span></span>\n<span class=\"line\"><span style=\"color:#E2657E;--shiki-dark:#E2657E\">  padding-top</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">: $paddingTop;</span></span>\n<span class=\"line\"><span style=\"color:#000000;--shiki-dark:#B3D8E5\">  position: relative;</span></span>\n<span class=\"line\"><span style=\"color:#000000;--shiki-dark:#B3D8E5\">  width: 100%;</span></span>\n<span class=\"line\"><span style=\"color:#000000;--shiki-dark:#B3D8E5\">  #</span><span style=\"--shiki-dark:#DA70D6;color:#DA70D6\">{</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">$el</span><span style=\"--shiki-dark:#DA70D6;color:#DA70D6\">}</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\"> </span><span style=\"--shiki-dark:#DA70D6;color:#DA70D6\">{</span></span>\n<span class=\"line\"><span style=\"color:#007CF0;--shiki-dark:#007CF0\">    height</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">: </span><span style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\">100</span><span style=\"color:#E2657E;--shiki-dark:#E2657E\">%</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">;</span></span>\n<span class=\"line\"><span style=\"color:#007CF0;--shiki-dark:#007CF0\">    left</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">: </span><span style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\">0</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">;</span></span>\n<span class=\"line\"><span style=\"color:#007CF0;--shiki-dark:#007CF0\">    position</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">: </span><span style=\"color:#007CF0;--shiki-dark:#007CF0\">absolute</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">;</span></span>\n<span class=\"line\"><span style=\"color:#007CF0;--shiki-dark:#007CF0\">    top</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">: </span><span style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\">0</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">;</span></span>\n<span class=\"line\"><span style=\"color:#007CF0;--shiki-dark:#007CF0\">    width</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">: </span><span style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\">100</span><span style=\"color:#E2657E;--shiki-dark:#E2657E\">%</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">;</span></span>\n<span class=\"line\"><span style=\"color:#000000;--shiki-dark:#B3D8E5\">  </span><span style=\"--shiki-dark:#DA70D6;color:#DA70D6\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-dark:#FFD700;color:#FFD700\">}</span></span>\n<span class=\"line\"></span></code></pre>\n<p><strong>JavaScript</strong></p>\n<p>Wrap a selected element in a <code>div</code>.</p>\n<pre class=\"shiki shiki-themes theme-custom-light theme-custom-dark\" style=\"background-color:#f9f9f9;--shiki-dark-bg:#031030;color:#000000;--shiki-dark:#b3d8e5\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#569CD6;--shiki-dark:#569CD6\">const</span><span style=\"color:#E2657E;--shiki-dark:#E2657E\"> frame</span><span style=\"color:#E194B5;--shiki-dark:#E194B5\"> =</span><span style=\"color:#007CF0;--shiki-dark:#007CF0\"> element</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">; </span><span style=\"color:#6A9955;--shiki-dark:#6A9955\">// frame is the elmeent to be wrapped</span></span>\n<span class=\"line\"><span style=\"color:#569CD6;--shiki-dark:#569CD6\">const</span><span style=\"color:#E2657E;--shiki-dark:#E2657E\"> div</span><span style=\"color:#E194B5;--shiki-dark:#E194B5\"> =</span><span style=\"color:#007CF0;--shiki-dark:#007CF0\"> document</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">.</span><span style=\"color:#E2657E;--shiki-dark:#E2657E\">createElement</span><span style=\"--shiki-dark:#FFD700;color:#FFD700\">(</span><span style=\"color:#007CF0;--shiki-dark:#007CF0\">\"div\"</span><span style=\"--shiki-dark:#FFD700;color:#FFD700\">)</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">;</span></span>\n<span class=\"line\"><span style=\"color:#007CF0;--shiki-dark:#007CF0\">frame</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">.</span><span style=\"color:#007CF0;--shiki-dark:#007CF0\">parentNode</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">.</span><span style=\"color:#E2657E;--shiki-dark:#E2657E\">insertBefore</span><span style=\"--shiki-dark:#FFD700;color:#FFD700\">(</span><span style=\"color:#007CF0;--shiki-dark:#007CF0\">div</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">, </span><span style=\"color:#007CF0;--shiki-dark:#007CF0\">frame</span><span style=\"--shiki-dark:#FFD700;color:#FFD700\">)</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">;</span></span>\n<span class=\"line\"><span style=\"color:#007CF0;--shiki-dark:#007CF0\">frame</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">.</span><span style=\"color:#007CF0;--shiki-dark:#007CF0\">parentNode</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">.</span><span style=\"color:#E2657E;--shiki-dark:#E2657E\">removeChild</span><span style=\"--shiki-dark:#FFD700;color:#FFD700\">(</span><span style=\"color:#007CF0;--shiki-dark:#007CF0\">frame</span><span style=\"--shiki-dark:#FFD700;color:#FFD700\">)</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">;</span></span>\n<span class=\"line\"><span style=\"color:#007CF0;--shiki-dark:#007CF0\">div</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">.</span><span style=\"color:#E2657E;--shiki-dark:#E2657E\">appendChild</span><span style=\"--shiki-dark:#FFD700;color:#FFD700\">(</span><span style=\"color:#007CF0;--shiki-dark:#007CF0\">frame</span><span style=\"--shiki-dark:#FFD700;color:#FFD700\">)</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">;</span></span></code></pre>\n<p>Add padding to create an intrinsic ratio.</p>\n<pre class=\"shiki shiki-themes theme-custom-light theme-custom-dark\" style=\"background-color:#f9f9f9;--shiki-dark-bg:#031030;color:#000000;--shiki-dark:#b3d8e5\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#6A9955;--shiki-dark:#6A9955\">// where the frame is the element &#x26; the div is the added wrapper element</span></span>\n<span class=\"line\"><span style=\"color:#569CD6;--shiki-dark:#569CD6\">const</span><span style=\"color:#E2657E;--shiki-dark:#E2657E\"> height</span><span style=\"color:#E194B5;--shiki-dark:#E194B5\"> =</span><span style=\"color:#007CF0;--shiki-dark:#007CF0\"> frame</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">.</span><span style=\"color:#007CF0;--shiki-dark:#007CF0\">offsetHeight</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">;</span></span>\n<span class=\"line\"><span style=\"color:#569CD6;--shiki-dark:#569CD6\">const</span><span style=\"color:#E2657E;--shiki-dark:#E2657E\"> width</span><span style=\"color:#E194B5;--shiki-dark:#E194B5\"> =</span><span style=\"color:#007CF0;--shiki-dark:#007CF0\"> frame</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">.</span><span style=\"color:#007CF0;--shiki-dark:#007CF0\">offsetWidth</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">;</span></span>\n<span class=\"line\"><span style=\"color:#569CD6;--shiki-dark:#569CD6\">const</span><span style=\"color:#E2657E;--shiki-dark:#E2657E\"> padding</span><span style=\"color:#E194B5;--shiki-dark:#E194B5\"> =</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\"> </span><span style=\"--shiki-dark:#FFD700;color:#FFD700\">(</span><span style=\"color:#007CF0;--shiki-dark:#007CF0\">height</span><span style=\"color:#E194B5;--shiki-dark:#E194B5\"> /</span><span style=\"color:#007CF0;--shiki-dark:#007CF0\"> width</span><span style=\"--shiki-dark:#FFD700;color:#FFD700\">)</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\"> </span><span style=\"color:#E194B5;--shiki-dark:#E194B5\">*</span><span style=\"color:#B5CEA8;--shiki-dark:#B5CEA8\"> 100</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">;</span></span>\n<span class=\"line\"><span style=\"color:#007CF0;--shiki-dark:#007CF0\">div</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">.</span><span style=\"color:#007CF0;--shiki-dark:#007CF0\">style</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">.</span><span style=\"color:#007CF0;--shiki-dark:#007CF0\">paddingTop</span><span style=\"color:#E194B5;--shiki-dark:#E194B5\"> =</span><span style=\"color:#007CF0;--shiki-dark:#007CF0\"> padding</span><span style=\"color:#E194B5;--shiki-dark:#E194B5\"> +</span><span style=\"color:#007CF0;--shiki-dark:#007CF0\"> \"%\"</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">;</span></span></code></pre>\n<p>Make a plugin for jQuery or <a href=\"http://zeptojs.com/\">Zepto</a>.</p>\n<pre class=\"shiki shiki-themes theme-custom-light theme-custom-dark\" style=\"background-color:#f9f9f9;--shiki-dark-bg:#031030;color:#000000;--shiki-dark:#b3d8e5\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#E194B5;--shiki-dark:#E194B5\">if</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\"> </span><span style=\"--shiki-dark:#FFD700;color:#FFD700\">(</span><span style=\"color:#007CF0;--shiki-dark:#007CF0\">window</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">.</span><span style=\"color:#007CF0;--shiki-dark:#007CF0\">$</span><span style=\"--shiki-dark:#FFD700;color:#FFD700\">)</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\"> </span><span style=\"--shiki-dark:#FFD700;color:#FFD700\">{</span></span>\n<span class=\"line\"><span style=\"color:#007CF0;--shiki-dark:#007CF0\">  window</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">.</span><span style=\"color:#007CF0;--shiki-dark:#007CF0\">$</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">.</span><span style=\"color:#007CF0;--shiki-dark:#007CF0\">fn</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">.</span><span style=\"color:#E2657E;--shiki-dark:#E2657E\">extend</span><span style=\"--shiki-dark:#DA70D6;color:#DA70D6\">(</span><span style=\"--shiki-dark:#179FFF;color:#179FFF\">{</span></span>\n<span class=\"line\"><span style=\"color:#E2657E;--shiki-dark:#E2657E\">    reframe</span><span style=\"color:#007CF0;--shiki-dark:#007CF0\">:</span><span style=\"color:#569CD6;--shiki-dark:#569CD6\"> function</span><span style=\"color:#E2657E;--shiki-dark:#E2657E\"> reframeFunc</span><span style=\"--shiki-dark:#FFD700;color:#FFD700\">(</span><span style=\"color:#007CF0;--shiki-dark:#007CF0\">cName</span><span style=\"--shiki-dark:#FFD700;color:#FFD700\">)</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\"> </span><span style=\"--shiki-dark:#FFD700;color:#FFD700\">{</span></span>\n<span class=\"line\"><span style=\"color:#E194B5;--shiki-dark:#E194B5\">      return</span><span style=\"color:#E2657E;--shiki-dark:#E2657E\"> reframe</span><span style=\"--shiki-dark:#DA70D6;color:#DA70D6\">(</span><span style=\"color:#007CF0;--shiki-dark:#007CF0\">this</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">, </span><span style=\"color:#007CF0;--shiki-dark:#007CF0\">cName</span><span style=\"--shiki-dark:#DA70D6;color:#DA70D6\">)</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">;</span></span>\n<span class=\"line\"><span style=\"color:#000000;--shiki-dark:#B3D8E5\">    </span><span style=\"--shiki-dark:#FFD700;color:#FFD700\">}</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">,</span></span>\n<span class=\"line\"><span style=\"color:#000000;--shiki-dark:#B3D8E5\">  </span><span style=\"--shiki-dark:#179FFF;color:#179FFF\">}</span><span style=\"--shiki-dark:#DA70D6;color:#DA70D6\">)</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-dark:#FFD700;color:#FFD700\">}</span></span></code></pre>\n<p>Add a check to the top of the plugin which allows us to select the element to reframe with jquery <em>or</em> plain js (Kudos to <a href=\"http://jakiestfu.com/\">Jacob Kelley</a> here).</p>\n<pre class=\"shiki shiki-themes theme-custom-light theme-custom-dark\" style=\"background-color:#f9f9f9;--shiki-dark-bg:#031030;color:#000000;--shiki-dark:#b3d8e5\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#569CD6;--shiki-dark:#569CD6\">let</span><span style=\"color:#007CF0;--shiki-dark:#007CF0\"> frames</span><span style=\"color:#E194B5;--shiki-dark:#E194B5\"> =</span></span>\n<span class=\"line\"><span style=\"color:#E194B5;--shiki-dark:#E194B5\">  typeof</span><span style=\"color:#007CF0;--shiki-dark:#007CF0\"> target</span><span style=\"color:#E194B5;--shiki-dark:#E194B5\"> ===</span><span style=\"color:#007CF0;--shiki-dark:#007CF0\"> \"string\"</span><span style=\"color:#E194B5;--shiki-dark:#E194B5\"> ?</span><span style=\"color:#007CF0;--shiki-dark:#007CF0\"> document</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">.</span><span style=\"color:#E2657E;--shiki-dark:#E2657E\">querySelectorAll</span><span style=\"--shiki-dark:#FFD700;color:#FFD700\">(</span><span style=\"color:#007CF0;--shiki-dark:#007CF0\">target</span><span style=\"--shiki-dark:#FFD700;color:#FFD700\">)</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\"> </span><span style=\"color:#E194B5;--shiki-dark:#E194B5\">:</span><span style=\"color:#007CF0;--shiki-dark:#007CF0\"> target</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">;</span></span>\n<span class=\"line\"><span style=\"color:#E194B5;--shiki-dark:#E194B5\">if</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\"> </span><span style=\"--shiki-dark:#FFD700;color:#FFD700\">(</span><span style=\"color:#E194B5;--shiki-dark:#E194B5\">!</span><span style=\"--shiki-dark:#DA70D6;color:#DA70D6\">(</span><span style=\"color:#007CF0;--shiki-dark:#007CF0\">\"length\"</span><span style=\"color:#E194B5;--shiki-dark:#E194B5\"> in</span><span style=\"color:#007CF0;--shiki-dark:#007CF0\"> frames</span><span style=\"--shiki-dark:#DA70D6;color:#DA70D6\">)</span><span style=\"--shiki-dark:#FFD700;color:#FFD700\">)</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\"> </span><span style=\"--shiki-dark:#FFD700;color:#FFD700\">{</span></span>\n<span class=\"line\"><span style=\"color:#007CF0;--shiki-dark:#007CF0\">  frames</span><span style=\"color:#E194B5;--shiki-dark:#E194B5\"> =</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\"> </span><span style=\"--shiki-dark:#DA70D6;color:#DA70D6\">[</span><span style=\"color:#007CF0;--shiki-dark:#007CF0\">frames</span><span style=\"--shiki-dark:#DA70D6;color:#DA70D6\">]</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-dark:#FFD700;color:#FFD700\">}</span></span></code></pre>\n<p>Here's the code you write.</p>\n<pre class=\"shiki shiki-themes theme-custom-light theme-custom-dark\" style=\"background-color:#f9f9f9;--shiki-dark-bg:#031030;color:#000000;--shiki-dark:#b3d8e5\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#E2657E;--shiki-dark:#E2657E\">reframe</span><span style=\"--shiki-dark:#FFD700;color:#FFD700\">(</span><span style=\"color:#007CF0;--shiki-dark:#007CF0\">\"selector\"</span><span style=\"--shiki-dark:#FFD700;color:#FFD700\">)</span><span style=\"color:#000000;--shiki-dark:#B3D8E5\">;</span></span></code></pre>\n<h2>To Dos</h2>\n<p>Currently, I'm playing with the idea of removing the default padding of the ratio (56.25%) that's in the <code>css</code> because it is overwritten every time the plugin is called.\nAlso, I think I will be adding a docs folder for using the plugin &#x26; specific use cases that might come up.</p>\n<h2>Summary</h2>\n<p>One of the fun challenges when writing code for content is to support creativity in a controlled way. Reframe.js is a great solve for making embedded content look great on your website. Initially, we didn't know if we would be using jQuery for our product at <a href=\"https://www.dollarshaveclub.com/\">DSC</a> so <a href=\"http://fitvidsjs.com/\">FitVids</a> was out of the question - which led me down the path of writing some new code. The end result was Reframe.js. Hope it works well for you if you use it.</p>\n<p>I plan on writing more lightweight plugins to solve common content problems in the future. If you have questions or ideas in regards to <a href=\"https://github.com/dollarshaveclub/reframe.js\">Reframe.js</a> please contact me - links below.</p>","slug":"reframing-content"},"__N_SSG":true}