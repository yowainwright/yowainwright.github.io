{"version":3,"sources":["../../src/cache-dir/develop-static-entry.js"],"names":["HTML","require","e","module","exports","locals","callback","headComponents","preBodyComponents","postBodyComponents","bodyProps","htmlStr","setHeadComponents","concat","components","setPreBodyComponents","setPostBodyComponents","setBodyProps","props","htmlElement","createElement","body"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;AACA;;;;AACA;;;;;;AAGA,IAAIA,aAAJ;AACA,IAAI;AACFA,SAAOC,sBAAP;AACD,CAFD,CAEE,OAAOC,CAAP,EAAU;AACVF,SAAOC,yBAAP;AACD;;AAEDE,OAAOC,OAAP,GAAiB,UAACC,MAAD,EAASC,QAAT,EAAsB;AACrC;AACA,MAAIC,iBAAiB,EAArB;AACA,MAAIC,oBAAoB,EAAxB;AACA,MAAIC,qBAAqB,EAAzB;AACA,MAAIC,YAAY,EAAhB;AACA,MAAIC,gBAAJ;;AAEA,MAAMC,oBAAoB,SAApBA,iBAAoB,aAAc;AACtCL,qBAAiBA,eAAeM,MAAf,CAAsBC,UAAtB,CAAjB;AACD,GAFD;;AAIA,MAAMC,uBAAuB,SAAvBA,oBAAuB,aAAc;AACzCP,wBAAoBA,kBAAkBK,MAAlB,CAAyBC,UAAzB,CAApB;AACD,GAFD;;AAIA,MAAME,wBAAwB,SAAxBA,qBAAwB,aAAc;AAC1CP,yBAAqBA,mBAAmBI,MAAnB,CAA0BC,UAA1B,CAArB;AACD,GAFD;;AAIA,MAAMG,eAAe,SAAfA,YAAe,QAAS;AAC5BP,gBAAY,mBAAM,EAAN,EAAUA,SAAV,EAAqBQ,KAArB,CAAZ;AACD,GAFD;;AAIA,8CAA0B;AACxBN,wCADwB;AAExBG,8CAFwB;AAGxBC,gDAHwB;AAIxBC;AAJwB,GAA1B;;AAOA,MAAME,cAAc,gBAAMC,aAAN,CAAoBpB,IAApB,6BACfU,SADe;AAElBW,YAFkB;AAGlBd,kCAHkB;AAIlBC,wCAJkB;AAKlBC,wBAAoBA,mBAAmBI,MAAnB,CAA0B,CAC5C,0CAAQ,cAAR,EAAwB,KAAI,aAA5B,GAD4C,CAA1B;AALF,KAApB;AASAF,YAAU,kCAAqBQ,WAArB,CAAV;AACAR,kCAA8BA,OAA9B;;AAEAL,WAAS,IAAT,EAAeK,OAAf;AACD,CA5CD","file":"develop-static-entry.js","sourcesContent":["import React from \"react\"\nimport { renderToStaticMarkup } from \"react-dom/server\"\nimport { merge } from \"lodash\"\nimport apiRunner from \"./api-runner-ssr\"\nimport pages from \"./pages.json\"\nimport ReactDOMServer from \"react-dom/server\"\n\nlet HTML\ntry {\n  HTML = require(`../src/html`)\n} catch (e) {\n  HTML = require(`./default-html`)\n}\n\nmodule.exports = (locals, callback) => {\n  // const apiRunner = require(`${directory}/.cache/api-runner-ssr`)\n  let headComponents = []\n  let preBodyComponents = []\n  let postBodyComponents = []\n  let bodyProps = {}\n  let htmlStr\n\n  const setHeadComponents = components => {\n    headComponents = headComponents.concat(components)\n  }\n\n  const setPreBodyComponents = components => {\n    preBodyComponents = preBodyComponents.concat(components)\n  }\n\n  const setPostBodyComponents = components => {\n    postBodyComponents = postBodyComponents.concat(components)\n  }\n\n  const setBodyProps = props => {\n    bodyProps = merge({}, bodyProps, props)\n  }\n\n  apiRunner(`onRenderBody`, {\n    setHeadComponents,\n    setPreBodyComponents,\n    setPostBodyComponents,\n    setBodyProps,\n  })\n\n  const htmlElement = React.createElement(HTML, {\n    ...bodyProps,\n    body: ``,\n    headComponents,\n    preBodyComponents,\n    postBodyComponents: postBodyComponents.concat([\n      <script key={`commons`} src=\"/commons.js\" />,\n    ]),\n  })\n  htmlStr = renderToStaticMarkup(htmlElement)\n  htmlStr = `<!DOCTYPE html>\\n${htmlStr}`\n\n  callback(null, htmlStr)\n}\n"]}