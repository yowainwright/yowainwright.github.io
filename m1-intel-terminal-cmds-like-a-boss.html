<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><meta property="og:locale" content="en_US"/><link href="https://yowainwright.imgix.net/favicon.png" rel="icon"/><link href="https://yowainwright.imgix.net/apple-icon-120x120.png" rel="apple-touch-icon" itemProp="logo"/><meta name="keywords" content="jeffry, wainwright, jeffry wainwright, code, programmer, artist, athlete, developer, engineer"/><meta name="theme-color" content="#007cf0"/><link rel="manifest" href="https://yowainwright.imgix.net/manifest.json"/><meta name="description" content="Jeffry.in is the daily changelog of Jeffry Wainwright, an engineer living in California."/><meta property="og:site_name" content="Jeffry.in"/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="600"/><link rel="icon" href="/favicon.ico"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link rel="preload" href="./_next/static/css/3a86231f6ea340bf.css" as="style"/><link rel="stylesheet" href="./_next/static/css/3a86231f6ea340bf.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="./_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="./_next/static/chunks/webpack-fdae5a0184dd3453.js" defer=""></script><script src="./_next/static/chunks/framework-a336eba791abf541.js" defer=""></script><script src="./_next/static/chunks/main-3b9fc35a5359ea87.js" defer=""></script><script src="./_next/static/chunks/pages/_app-71fd622e7e79e1ed.js" defer=""></script><script src="./_next/static/chunks/892-c95064741b5c764a.js" defer=""></script><script src="./_next/static/chunks/pages/%5Bslug%5D-88fd04c48c6a3e04.js" defer=""></script><script src="./_next/static/0cPwLe3O00regdLZXTSZo/_buildManifest.js" defer=""></script><script src="./_next/static/0cPwLe3O00regdLZXTSZo/_ssgManifest.js" defer=""></script><style data-href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap">@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Me5g.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlvAA.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu72xKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu5mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu7mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu4WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu7WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu7GxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu4mxKKTU1Kg.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body><div id="__next"><nav id="site-nav" class="site-nav" role="navigation" itemType="http://schema.org/SiteNavigationElement"><section class="site-nav__container"><a class="logo" href="/"><h3 class="logo__title">j</h3></a><div class="site-nav__links-wrapper"><ul class="site-nav__items"><li class="site-nav__item site-nav__item--resume"><a class="site-nav__link site-nav__link--resume" href="/resume">Resume</a></li><li class="site-nav__item site-nav__item--archive"><a class="site-nav__link site-nav__link--archive" href="/archive">Archive</a></li><li class="site-nav__item site-nav__item--about"><a class="site-nav__link site-nav__link--about" href="/about">About</a></li></ul><button class="site-nav__toggle" title="Toggle Darkmode"><svg viewBox="0 0 24 24"><path d="M9.37 5.51c-.18.64-.27 1.31-.27 1.99 0 4.08 3.32 7.4 7.4 7.4.68 0 1.35-.09 1.99-.27C17.45 17.19 14.93 19 12 19c-3.86 0-7-3.14-7-7 0-2.93 1.81-5.45 4.37-6.49zM12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1z"></path></svg></button></div></section></nav><article class="post__article"><header class="post__header"><h1>Quick Tutorial: Run Intel Mac Cmds On Your M1 Mac Like a Boss In 5 Minutes</h1><time class="post__time">December 13, 2022</time></header><section class="post__section"><div class="post__container"><div class="post__content"><p>After using terminals (iTerm, Terminal, Kitty) with an M1 Mac without issue for over a year, I finally came upon an issue that I couldn’t solve without using <a href="https://support.apple.com/en-us/HT211861">Rosetta</a>. Rosetta is Mac software to run Intel Mac terminal commands on an M1 Mac. My issue initially came from trying to use <a href="https://github.com/pyenv/pyenv">Pyenv</a> to install and use different versions of <a href="https://www.python.org/">Python</a> across multiple projects. After installing Rosetta, I initially used it by adding a custom flag to commands like this <code>arch -x86_64</code> <!-- -->&lt;command&gt;<!-- -->. This worked for me but was really error prone, <em>“Did I forget the flag? Did I add the flag in the correct place?”</em>.</p>
<hr/>
<p>This document describes solving M1 Mac vs Intel Mac terminal command discrepancies by creating a copy of your terminal and setting it up to run Intel Mac terminal commands using Rosetta. Although the process of making a Rosetta terminal is documented on the internet, I don’t feel it’s clear how few steps are involved in creating and using a Rosetta terminal!</p>
<h3><em>This document provides the few steps needed to create a Rosetta terminal so you can run Intel Mac commands on your M1 Mac like a boss!</em></h3>
<p>If you follow these steps, you can still use your current terminal the same plus you will have a terminal that can run Intel Mac commands using Rosetta. This document focuses on iTerm with zsh but the same functionality can be applied to other terminal apps or shells.</p>
<hr/>
<h2>Why is it useful to run Intel Mac commands?</h2>
<p>Many people use terminal tools everyday, like <a href="https://github.com/pyenv/pyenv">pyenv</a>, that are much easier to use with an M1 Mac by running Intel Mac commands using <a href="https://support.apple.com/en-us/HT211861">Rosetta</a>. In fact, some tools may even impossible to use without Rosetta!</p>
<hr/>
<h3><em>For example:</em></h3>
<ul>
<li>If you&#x27;re working on a Python project which is pinned to a <strong><em>specific version of Python and has pinned dependency versions</em></strong>,</li>
<li>It may be impossible to successfully intall the project&#x27;s dependencies unless <strong><em>you run Intel Mac install commands using Rosetta</em></strong>.</li>
<li>Furthermore, if you then install Rosetta and successfully install a project&#x27;s dependencies by run Intel Mac commands,</li>
<li>You may find you&#x27;re unable to install multiple <strong><em>other projects dependencies  or other versions of Python</em></strong>.</li>
</ul>
<h3><em>Figuring out versions and dependency versions like this can take up a lot time!</em></h3>
<hr/>
<h2>Why is it useful to run Intel Mac commands on a separate terminal setup to run Intel Mac commands?</h2>
<p>After you’ve run Intel Mac commands using Rosetta, you may be 100% fine!</p>
<p>Maybe you’re fine just adding the flag <code>arch -x86_64 &lt;command&gt;</code>. Maybe you don’t use Homebrew or if you do, you’ve setup different homebrew paths with fun names like <code>brew</code> and <code>ibrew</code> and haven’t had any problems.</p>
<p>If that’s the case, the rest of this doc isn’t for you! Otherwise, <strong>read on!</strong></p>
<hr/>
<h3>*<em>Personal Intel Mac command journey:</em></h3>
<ul>
<li>I found, when trying to install different Python versions using Pyenv, that it was getting more complex as I worked on more projects. I found myself searching stackoverflow, pyenv issues, and various popular Python package issue which told me to run Intel Mac commands or to add various flags to commands to get them to run correctly.</li>
<li>Although, I initially found some worthwhile learnings debugging why clang didn&#x27;t work with a certain flag, this time was mainly trying commands I found versus working on projects.</li>
</ul>
<hr/>
<p>If your *personal Intel Mac command journey is similar to mine, I highly recommend setting up a separate terminal app to run Intel Mac commands. Setting up the terminal takes minutes and works seamlessly with your normal terminal. Read on!</p>
<hr/>
<h2>Quickly setting up a seamless Rosetta Copy Terminal on your M1 Mac</h2>
<p>The following paragraphs are aimed to help you setup your terminal copy which will run Intel Mac commands using Rosetta in about 5 minutes (or less) of *&quot;hands on keyboard&quot; code time.</p>
<hr/>
<p>*Intalling Homebrew brews for Rosetta <strong>will take more time</strong>—but you can run that job in
another terminal tab.</p>
<hr/>
<p><a href="https://www.loom.com/share/6e13a22cb50e421cb17afa627dfec322"><img src="https://cdn.loom.com/sessions/thumbnails/6e13a22cb50e421cb17afa627dfec322-with-play.gif" alt="Loom Video about setting up M1 Mac for Rosetta"/></a></p>
<h3>Setting up a seperate Terminal App using Rosetta</h3>
<p>There is good documentation (click links below) for setting up a seperate Rosetta Terminal so this post will cover that very quickly.</p>
<ol>
<li>Copy your preferred terminal and save it to use <a href="https://support.apple.com/en-us/HT211861">Rosetta</a>, <a href="https://i.stack.imgur.com/yit7K.png">view image reference</a></li>
<li>Rename your terminal to your liking, <a href="https://i.stack.imgur.com/XqDDR.png">view image reference</a></li>
<li>Set your new terminal to use Rosetta, <a href="https://i.stack.imgur.com/4nG6B.png">view image reference</a></li>
</ol>
<hr/>
<p>That’s it! Your separate terminal is setup. It has no effect on the terminal you were using before. But, now you can use your new terminal to run Intel Mac commands on your M1 Mac with ease.</p>
<p>However, from my perspective, there are a few confusing things which make this copied terminal still feel incomplete.</p>
<ul>
<li>There is nothing to give me a visual queue about what terminal is being used</li>
<li>There is no clear way to run commands like <code>brew install</code> between the 2 terminal apps</li>
</ul>
<p>If you’re like me and would like this sort of clarity and functionality, <strong>read on</strong>!</p>
<hr/>
<h3>Add Pizazz to your Seperate Terminal Apps</h3>
<p>Once you&#x27;ve set up your Rosetta Terminal. You want to enable some simple tools to help you with which terminal you&#x27;re using. I do this with a few commands. See the <code>.zshrc_example</code> below or view the code comments below.</p>
<h4>1. Make a name for your new terminal</h4>
<pre><code class="language-bash"># useful for differentiating between terminals
if [ $(arch) = &quot;i386&quot; ]; then
  TITLE=&quot;Rosetta iTerm 🪨&quot;
else
  TITLE=&quot;iTerm 🔮&quot;
fi;
</code></pre>
<h4>2. Setup your brew installs</h4>
<pre><code class="language-bash"># with either rosetta or arm based on which terminal you are using
if [ $(arch) = &quot;i386&quot; ]; then
    alias brew=&#x27;/usr/local/homebrew/bin/brew&#x27;
else
    alias brew=&#x27;/opt/homebrew/bin/brew&#x27;
fi;
</code></pre>
<h4>3. Add a function to update your terminal tab&#x27;s name and working directory</h4>
<pre><code class="language-bash">precmd() {
  CURRENT=$(print -P %3~)
  echo -ne &quot;\e]1;${TITLE}, ${CURRENT##*/}\a&quot;
}
</code></pre>
<hr/>
<h3>Controlling your terminal profile—no problemo</h3>
<p>Now that you&#x27;ve setup your Rosetta Terminal, check your setup by setting up homebrew in for Rosetta if you haven&#x27;t</p>
<pre><code class="language-bash">/bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)&quot;
</code></pre>
<p>Install dependencies you need for Rosetta. In my case, I want to install for <a href="https://github.com/pyenv/pyenv/">pyenv</a>.</p>
<pre><code class="language-bash">brew update
brew install pyenv
</code></pre>
<p>Then, in my case, using ZSH</p>
<pre><code class="language-bash">echo &#x27;export PYENV_ROOT=&quot;$HOME/.pyenv&quot;&#x27; &gt;&gt; ~/.zshrc
echo &#x27;command -v pyenv &gt;/dev/null || export PATH=&quot;$PYENV_ROOT/bin:$PATH&quot;&#x27; &gt;&gt; ~/.zshrc
echo &#x27;eval &quot;$(pyenv init -)&quot;&#x27; &gt;&gt; ~/.zshrc
</code></pre>
<p>If you look at the <code>.zshrc</code> example below, it is what I&#x27;m currently using with up-to-date OS and brews for both regular M1 and Rosetta. <em>No crazy flags for installing new versions of python, etc.</em></p>
<p>I can install new Python versions using Pyenv in my Rosetta Terminal by running:</p>
<pre><code class="language-bash">pyenv install &lt;python-version&gt;
</code></pre>
<p>And, then I have access to using that version of python in <strong><em>both terminals</em></strong> after a successful install!</p>
<p>If I need to do anything custom I can add that to a bash function or to one of my if-else statements—<strong><em>no problemo!</em></strong></p>
<hr/>
<h2>Wrap-up</h2>
<p>M1 Macs have been great for me! Personally, until I needed to use different versions of python using pyenv, I had no reason for a Rosetta Terminal. But, once I needed to install/use different versions of python using pyenv, the time I was spending debugging quickly added up.</p>
<p>The separate Rosetta Terminal setup takes very little time and is minimal effort. After setting it up, I feel fully in-control of being about to debug issues between M1 vs Intel processors. On top of all the great notes and articles (see my reference comment below) about doing this, this is my take on setting up a seperate Rosetta Terminal, how easy it is to do, and why you might want to do it!</p>
<p>To view a gist with a sample <code>.zshrc</code> file, <a href="https://gist.github.com/yowainwright/5f0698b1cd120eeb0845e150a4ae44d4">click here</a>.</p></div><div class="post__giscus"></div></div><aside class="aside"><div class="aside__meta"><header class="aside__header"><h3 class="aside__title">Quick Tutorial: Run Intel Mac Cmds On Your M1 Mac Like a Boss In 5 Minutes</h3></header><section class="share"><nav class="share__nav"><button class="share__button">Share Article Link</button></nav></section></div></aside></section></article><footer class="site-footer" role="contentinfo" itemType="http://schema.org/WPFooter"><section class="site-footer__wrapper site-footer__wrapper--main"><article class="site-footer__col site-footer__col--contact"><h3 class="site-footer__title">Contact</h3><address class="site-footer__address"><p class="site-footer__content">Happy to chat, learn, help!</p><p class="site-footer__content"><a href="mailto:yowainwright@gmail.com">yowainwright@gmail.com</a>, Los Angeles, CA</p></address></article><div class="site-footer__col site-footer__col site-footer__col--social"><h3 class="site-footer__title">Connect</h3><nav class="social-footer"><ul class="social-list"><li class="social-list__item social-list__item--showing"><a href="https://github.com/yowainwright" class="social-list__link">Github</a></li><li class="social-list__item social-list__item--showing"><a href="https://instagram.com/yowainwright" class="social-list__link">Instragram</a></li><li class="social-list__item social-list__item--showing"><a href="https://www.linkedin.com/in/jeffrywainwright/" class="social-list__link">LinkedIn</a></li></ul></nav></div><article class="site-footer__col site-footer__col--self"><h3 class="site-footer__title site-footer__title--self">About</h3><figure class="site-footer__figure"><img class="media--circular site-footer__image" src="https://yowainwright.imgix.net/portraits/me-smiling.jpg?w=150&amp;h=150&amp;fit=crop&amp;auto=format" height="100%" width="100%" alt="Me smiling with a beard"/><figcaption class="site-footer__caption"><a class="site-footer__link" href="/"><strong>jeffry.in</strong>, <!-- -->2023</a>, is the blog of<!-- --> <a class="site-footer__link" href="/about">Jeffry (Jeff) Wainwright</a>, a software engineer, person, living in Los Angeles.</figcaption></figure></article></section><section class="site-footer__wrapper site-footer__wrapper--last"><h3 class="site-footer__title site-footer__title--last"><a class="site-footer__link" href="/">jeffry.in</a>, <!-- -->2023</h3></section></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{"title":"Quick Tutorial: Run Intel Mac Cmds On Your M1 Mac Like a Boss In 5 Minutes","layout":"post","readNext":"/","meta":"This document describes solving M1 Mac vs Intel Mac terminal command discrepancies by creating a copy of your terminal and setting it up to run Intel Mac terminal commands using Rosetta.","featured_image":null,"post_type":"technical","categories":["m1","terminal","rosetta"],"date":"December 13, 2022","path":"/m1-intel-terminal-cmds-like-a-boss"},"content":"\nAfter using terminals (iTerm, Terminal, Kitty) with an M1 Mac without issue for over a year, I finally came upon an issue that I couldn’t solve without using [Rosetta](https://support.apple.com/en-us/HT211861). Rosetta is Mac software to run Intel Mac terminal commands on an M1 Mac. My issue initially came from trying to use [Pyenv](https://github.com/pyenv/pyenv) to install and use different versions of [Python](https://www.python.org/) across multiple projects. After installing Rosetta, I initially used it by adding a custom flag to commands like this `arch -x86_64` \u003ccommand\u003e. This worked for me but was really error prone, _“Did I forget the flag? Did I add the flag in the correct place?”_.\n\n---\n\nThis document describes solving M1 Mac vs Intel Mac terminal command discrepancies by creating a copy of your terminal and setting it up to run Intel Mac terminal commands using Rosetta. Although the process of making a Rosetta terminal is documented on the internet, I don’t feel it’s clear how few steps are involved in creating and using a Rosetta terminal!\n\n### _This document provides the few steps needed to create a Rosetta terminal so you can run Intel Mac commands on your M1 Mac like a boss!_\n\nIf you follow these steps, you can still use your current terminal the same plus you will have a terminal that can run Intel Mac commands using Rosetta. This document focuses on iTerm with zsh but the same functionality can be applied to other terminal apps or shells.\n\n---\n\n## Why is it useful to run Intel Mac commands?\n\nMany people use terminal tools everyday, like [pyenv](https://github.com/pyenv/pyenv), that are much easier to use with an M1 Mac by running Intel Mac commands using [Rosetta](https://support.apple.com/en-us/HT211861). In fact, some tools may even impossible to use without Rosetta!\n\n---\n\n### _For example:_\n\n- If you're working on a Python project which is pinned to a **_specific version of Python and has pinned dependency versions_**,\n- It may be impossible to successfully intall the project's dependencies unless **_you run Intel Mac install commands using Rosetta_**.\n- Furthermore, if you then install Rosetta and successfully install a project's dependencies by run Intel Mac commands,\n- You may find you're unable to install multiple **_other projects dependencies  or other versions of Python_**.\n\n### _Figuring out versions and dependency versions like this can take up a lot time!_\n\n---\n\n## Why is it useful to run Intel Mac commands on a separate terminal setup to run Intel Mac commands?\n\nAfter you’ve run Intel Mac commands using Rosetta, you may be 100% fine!\n\nMaybe you’re fine just adding the flag `arch -x86_64 \u003ccommand\u003e`. Maybe you don’t use Homebrew or if you do, you’ve setup different homebrew paths with fun names like `brew` and `ibrew` and haven’t had any problems.\n\nIf that’s the case, the rest of this doc isn’t for you! Otherwise, **read on!**\n\n---\n\n### \\*_Personal Intel Mac command journey:_\n\n- I found, when trying to install different Python versions using Pyenv, that it was getting more complex as I worked on more projects. I found myself searching stackoverflow, pyenv issues, and various popular Python package issue which told me to run Intel Mac commands or to add various flags to commands to get them to run correctly.\n- Although, I initially found some worthwhile learnings debugging why clang didn't work with a certain flag, this time was mainly trying commands I found versus working on projects.\n\n---\n\nIf your *personal Intel Mac command journey is similar to mine, I highly recommend setting up a separate terminal app to run Intel Mac commands. Setting up the terminal takes minutes and works seamlessly with your normal terminal. Read on!\n\n---\n\n## Quickly setting up a seamless Rosetta Copy Terminal on your M1 Mac\n\nThe following paragraphs are aimed to help you setup your terminal copy which will run Intel Mac commands using Rosetta in about 5 minutes (or less) of *\"hands on keyboard\" code time.\n\n---\n\n*Intalling Homebrew brews for Rosetta **will take more time**—but you can run that job in\nanother terminal tab.\n\n---\n\n[![Loom Video about setting up M1 Mac for Rosetta](https://cdn.loom.com/sessions/thumbnails/6e13a22cb50e421cb17afa627dfec322-with-play.gif)](https://www.loom.com/share/6e13a22cb50e421cb17afa627dfec322)\n\n### Setting up a seperate Terminal App using Rosetta\n\nThere is good documentation (click links below) for setting up a seperate Rosetta Terminal so this post will cover that very quickly.\n\n1. Copy your preferred terminal and save it to use [Rosetta](https://support.apple.com/en-us/HT211861), [view image reference](https://i.stack.imgur.com/yit7K.png)\n1. Rename your terminal to your liking, [view image reference](https://i.stack.imgur.com/XqDDR.png)\n1. Set your new terminal to use Rosetta, [view image reference](https://i.stack.imgur.com/4nG6B.png)\n\n---\n\nThat’s it! Your separate terminal is setup. It has no effect on the terminal you were using before. But, now you can use your new terminal to run Intel Mac commands on your M1 Mac with ease.\n\nHowever, from my perspective, there are a few confusing things which make this copied terminal still feel incomplete.\n\n- There is nothing to give me a visual queue about what terminal is being used\n- There is no clear way to run commands like `brew install` between the 2 terminal apps\n\nIf you’re like me and would like this sort of clarity and functionality, **read on**!\n\n---\n\n### Add Pizazz to your Seperate Terminal Apps\n\nOnce you've set up your Rosetta Terminal. You want to enable some simple tools to help you with which terminal you're using. I do this with a few commands. See the `.zshrc_example` below or view the code comments below.\n\n#### 1. Make a name for your new terminal\n\n```bash\n# useful for differentiating between terminals\nif [ $(arch) = \"i386\" ]; then\n  TITLE=\"Rosetta iTerm 🪨\"\nelse\n  TITLE=\"iTerm 🔮\"\nfi;\n```\n\n#### 2. Setup your brew installs\n\n```bash\n# with either rosetta or arm based on which terminal you are using\nif [ $(arch) = \"i386\" ]; then\n    alias brew='/usr/local/homebrew/bin/brew'\nelse\n    alias brew='/opt/homebrew/bin/brew'\nfi;\n```\n\n#### 3. Add a function to update your terminal tab's name and working directory\n\n```bash\nprecmd() {\n  CURRENT=$(print -P %3~)\n  echo -ne \"\\e]1;${TITLE}, ${CURRENT##*/}\\a\"\n}\n```\n\n---\n\n### Controlling your terminal profile—no problemo\n\nNow that you've setup your Rosetta Terminal, check your setup by setting up homebrew in for Rosetta if you haven't\n\n```bash\n/bin/bash -c \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\"\n```\n\nInstall dependencies you need for Rosetta. In my case, I want to install for [pyenv](https://github.com/pyenv/pyenv/).\n\n```bash\nbrew update\nbrew install pyenv\n```\n\nThen, in my case, using ZSH\n\n```bash\necho 'export PYENV_ROOT=\"$HOME/.pyenv\"' \u003e\u003e ~/.zshrc\necho 'command -v pyenv \u003e/dev/null || export PATH=\"$PYENV_ROOT/bin:$PATH\"' \u003e\u003e ~/.zshrc\necho 'eval \"$(pyenv init -)\"' \u003e\u003e ~/.zshrc\n```\n\nIf you look at the `.zshrc` example below, it is what I'm currently using with up-to-date OS and brews for both regular M1 and Rosetta. _No crazy flags for installing new versions of python, etc._\n\nI can install new Python versions using Pyenv in my Rosetta Terminal by running:\n\n```bash\npyenv install \u003cpython-version\u003e\n```\n\nAnd, then I have access to using that version of python in **_both terminals_** after a successful install!\n\n If I need to do anything custom I can add that to a bash function or to one of my if-else statements—**_no problemo!_**\n\n---\n\n## Wrap-up\n\nM1 Macs have been great for me! Personally, until I needed to use different versions of python using pyenv, I had no reason for a Rosetta Terminal. But, once I needed to install/use different versions of python using pyenv, the time I was spending debugging quickly added up.\n\nThe separate Rosetta Terminal setup takes very little time and is minimal effort. After setting it up, I feel fully in-control of being about to debug issues between M1 vs Intel processors. On top of all the great notes and articles (see my reference comment below) about doing this, this is my take on setting up a seperate Rosetta Terminal, how easy it is to do, and why you might want to do it!\n\nTo view a gist with a sample `.zshrc` file, [click here](https://gist.github.com/yowainwright/5f0698b1cd120eeb0845e150a4ae44d4).\n"},"__N_SSG":true},"page":"/[slug]","query":{"slug":"m1-intel-terminal-cmds-like-a-boss"},"buildId":"0cPwLe3O00regdLZXTSZo","assetPrefix":".","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>